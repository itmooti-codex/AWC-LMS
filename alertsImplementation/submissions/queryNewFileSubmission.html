<script>
  //Student's Submission Queries
  //Fetch Queries
  const FETCH_SUBMISSIONS_COMMENTS_QUERY = `
query calcForumComments($id: AwcSubmissionID) {
calcForumComments(
limit: 5000 
offset: 0 
orderBy: [{ path: ["created_at"], type: asc }]
query: [{ where: { Submissions: [{ where: { id: $id } }] } }]
) {
Comment: field(arg: ["comment"]) 
Author_ID: field(arg: ["author_id"]) 
Author_First_Name: field(arg: ["Author", "first_name"])
Author_Last_Name: field(arg: ["Author", "last_name"]) 
Author_Display_Name: field( arg: ["Author", "display_name"]) 
Author_Profile_Image: field(arg: ["Author", "profile_image"]) 
Date_Added: field(arg: ["created_at"])
ID: field(arg: ["id"])
Reply_to_Comment_ID: field(arg: ["reply_to_comment_id"])
File: field(arg: ["file"])
Comment_File_Name: field(arg: ["comment_file_name"])
}
}
`;

  const FETCH_SUBMISSION_VOTERS_QUERY = `
query calcSubmissions($id: AwcSubmissionID) {
calcSubmissions(query: [{ where: { id: $id } }]) {
Voters_DataID: field(arg: ["Voters_Data", "id"])
Voters_Contact_ID: field(arg: ["Voters", "id"])
}
}
`;
  
  const FETCH_STUDENTS_QUERY = `
query calcEnrolments($id: AwcClassID) {
calcEnrolments(
query: [{ where: { Class: [{ where: { id: $id } }] } }]
) {
Student_First_Name: field(arg: ["Student", "first_name"])
Student_Last_Name: field(arg: ["Student", "last_name"]) 
Student_Display_Name: field(arg: ["Student", "display_name"]) 
Student_Unique_ID: field(arg: ["Student", "unique_id"])
Student_Profile_Image: field(arg: ["Student", "profile_image"])
}
}
`;

  //Action Queries
  const CREATE_VOTE_ON_SUBMISSION_MUTATION_QUERY = `
mutation createOVoterVotedSubmission($payload: OVoterVotedSubmissionCreateInput) {
createOVoterVotedSubmission(payload: $payload) {
voter_id 
voted_submission_id 
}
}
`;

  const DELETE_VOTE_ON_SUBMISSION_MUTATION_QUERY = `
mutation deleteOVoterVotedSubmission($id: AwcOVoterVotedSubmissionID) {
deleteOVoterVotedSubmission(
query: [{ where: { id: $id } }]
) {
id 
}
}
`;

  const CREATE_COMMENT_MUTATION_QUERY = `
mutation createForumComment($payload: ForumCommentCreateInput) {
createForumComment(payload: $payload) {
id 
comment 
author_id 
reply_to_comment_id 
comment_file_name 
submissions_id 
file 
Mentions {
unique_id 
}
}
}
`;

  const DELETE_COMMENT_MUTATION_QUERY = `
mutation deleteForumComment($id: AwcForumCommentID) {
  deleteForumComment(query: [{ where: { id: $id } }]) {
    id
  }
}
`;

  const FETCH_REPLIES_QUERY =`
query calcForumComments($id: AwcForumCommentID) {
calcForumComments(
limit: 5000 
offset: 0 
orderBy: [{ path: ["created_at"], type: asc }]
query: [{ where: { reply_to_comment_id: $id } }]
) {
ID: field(arg: ["id"])
Comment: field(arg: ["comment"])
Author_ID: field(arg: ["author_id"])
Author_First_Name: field(arg: ["Author", "first_name"])
Author_Last_Name: field(arg: ["Author", "last_name"])
Author_Display_Name: field(arg: ["Author", "display_name"]) 
Author_Profile_Image: field(arg: ["Author", "profile_image"])
Reply_to_Comment_ID: field(arg: ["reply_to_comment_id"])
Date_Added: field(arg: ["created_at"])
}
}
`;
  
  const FETCH_COMMENTS_VOTERS_QUERY = `
query calcForumComments($id: AwcForumCommentID) {
calcForumComments(query: [{ where: { id: $id } }]) {
Member_Comment_Upvotes_Contact_ID: field(
arg: ["Member_Comment_Upvotes", "id"]
)
Member_Comment_Upvotes_DataID: field(
arg: ["Member_Comment_Upvotes_Data", "id"]
)
}
}
`;
  
  const CREATE_VOTE_ON_COMMENT_MUTATION_QUERY = `
mutation createMemberCommentUpvotesForumCommentUpvotes(
$payload: MemberCommentUpvotesForumCommentUpvotesCreateInput = null
) {
createMemberCommentUpvotesForumCommentUpvotes(
payload: $payload
) {
member_comment_upvote_id 
forum_comment_upvote_id 
}
}
`;

  const DELETE_VOTE_ON_COMMENT_MUTATION_QUERY = `
mutation deleteMemberCommentUpvotesForumCommentUpvotes(
$id: EduflowproMemberCommentUpvotesForumCommentUpvotesID
) {
deleteMemberCommentUpvotesForumCommentUpvotes(
query: [{ where: { id: $id } }]
) {
id 
}
}
`;
  
  const CREATE_REPLY_ON_COMMENT_MUTATION_QUERY = `
mutation createForumComment($payload: ForumCommentCreateInput) {
createForumComment(payload: $payload) {
id 
comment 
author_id 
reply_to_comment_id 
comment_file_name
Author {
first_name  
last_name 
display_name
profile_image   
}
Mentions {
unique_id 
}
}
}
`;
</script>
