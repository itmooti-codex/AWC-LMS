{{if announcements && announcements.length}}
{{for announcements}}
{{if anouncementInstructorID =='[Visitor//Contact ID]' || anouncementStatus == 'Published'}}
<div class="p-4 flex-col justify-start items-start gap-4 flex serif bg-white border border-[#F2F2F2]"
    data-announcement-template-id="{{:anouncementID}}">
    <!-- Header: Profile image, Name and Time -->
    <div class="flex justify-between items-center w-full">
        <div class="flex items-center gap-4">
            <div class="flex items-center gap-3">
                <img class="w-6 h-6 rounded-full border border-[#d3d3d3]"
                    src="{{:~elapsedprofileImage(Instructor.instructorProfileImage)}}" alt="Profile Image">
            </div>
            <div class="text-[#414042] text-base font-semibold font-['Open Sans'] leading-none">
                {{:Instructor.instructorDisplayName}}
            </div>
            <div class="w-[2px] h-[15px] bg-[#bbbcbb]"></div>
            <div class="text-[#586a80] text-sm font-normal font-['Open Sans'] leading-tight">
                {{:~relativeTime(anouncementDateAdded)}}
            </div>
        </div>
        <!-- Action toggle button with Delete -->
        {{if anouncementInstructorID == '[Visitor//Contact ID]'}}
        <div class="cursor-pointer actionToggleButton relative"
            onclick="document.getElementById('announcementDelete-{{:anouncementID}}').classList.toggle('hidden');">
            <svg width="4" height="14" viewBox="0 0 4 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M3.45679 6.99992C3.45679 7.34176 3.35542 7.67593 3.1655 7.96016C2.97558 8.2444 2.70565 8.46593 2.38982 8.59675C2.074 8.72757 1.72648 8.76179 1.3912 8.6951C1.05593 8.62841 0.747957 8.4638 0.506236 8.22208C0.264516 7.98036 0.0999019 7.67239 0.0332114 7.33711C-0.0334791 7.00184 0.000748884 6.65431 0.131567 6.33849C0.262385 6.02267 0.483918 5.75273 0.768151 5.56281C1.05238 5.37289 1.38655 5.27152 1.7284 5.27152C2.18679 5.27152 2.62642 5.45362 2.95056 5.77776C3.27469 6.1019 3.45679 6.54152 3.45679 6.99992Z"
                    fill="#414042"></path>
                <path
                    d="M1.7284 3.79C2.07024 3.79 2.40441 3.68867 2.68864 3.49876C2.97287 3.30884 3.19441 3.0389 3.32522 2.72308C3.45604 2.40725 3.49027 2.05973 3.42358 1.72445C3.35689 1.38918 3.19228 1.08121 2.95056 0.839488C2.70884 0.597768 2.40086 0.433154 2.06559 0.366463C1.73031 0.299773 1.38279 0.334001 1.06697 0.464819C0.751145 0.595637 0.481206 0.81717 0.291288 1.1014C0.101369 1.38564 0 1.7198 0 2.06165C0 2.52 0.182099 2.95967 0.506236 3.28381C0.830373 3.60794 1.27 3.79 1.7284 3.79Z"
                    fill="#414042"></path>
                <path
                    d="M1.7284 10.21C1.38655 10.21 1.05238 10.3112 0.768151 10.5011C0.483918 10.691 0.262385 10.9609 0.131567 11.2768C0.000748884 11.5926 -0.0334791 11.9401 0.0332114 12.2754C0.0999019 12.6107 0.264516 12.9186 0.506236 13.16C0.747957 13.4021 1.05593 13.5667 1.3912 13.6334C1.72648 13.7001 2.074 13.6658 2.38982 13.535C2.70565 13.4042 2.97558 13.1827 3.1655 12.8984C3.35542 12.6142 3.45679 12.28 3.45679 11.9382C3.45679 11.48 3.27469 11.04 2.95056 10.716C2.62642 10.3919 2.18679 10.21 1.7284 10.21Z"
                    fill="#414042"></path>
            </svg>
            <div class="actionItemsWrapper shadow-lg absolute top-[1rem] right-0 flex flex-col gap-3 p-2 bg-white w-max hidden"
                id="announcementDelete-{{:anouncementID}}">
                <div class="actionItem text-sm text-dark" onclick="deleteAnnouncement('{{:anouncementID}}')">Delete
                </div>
            </div>
        </div>{{/if}}
    </div>
    <!-- Announcement title and content -->
    <div class="text-[#414042] text-xl font-semibold font-['Open Sans'] leading-normal">
        {{:anouncementTitle}}
    </div>
    <div class="text-[#414042] text-base font-normal font-['Open Sans'] leading-normal">
        {{:anouncementContent}}
    </div>

    {{if anouncementAttachment != '""' && anouncementAttachment && anouncementAttachment != '{}'}}

    <a class="flex items-center justify-between bg-[#C7E6E6] p-4 w-full rounded cursor-pointer"
        x-data='{"data": {{:anouncementAttachment}} }' :class="!data?.link ? 'hidden' : ''" :href="data.link"
        target="_blank">

        <div class="flex items-center gap-2 ">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M20.6981 7.60962L15.3135 2.225C15.242 2.15359 15.1571 2.09696 15.0637 2.05836C14.9704 2.01975 14.8703 1.99992 14.7692 2H5.53846C5.13044 2 4.73912 2.16209 4.4506 2.45061C4.16209 2.73912 4 3.13044 4 3.53846V20.4615C4 20.8696 4.16209 21.2609 4.4506 21.5494C4.73912 21.8379 5.13044 22 5.53846 22H19.3846C19.7926 22 20.184 21.8379 20.4725 21.5494C20.761 21.2609 20.9231 20.8696 20.9231 20.4615V8.15385C20.9232 8.0528 20.9033 7.95273 20.8647 7.85935C20.8261 7.76597 20.7695 7.68111 20.6981 7.60962ZM15.5385 16.6154H9.38462C9.1806 16.6154 8.98495 16.5343 8.84069 16.3901C8.69643 16.2458 8.61538 16.0502 8.61538 15.8462C8.61538 15.6421 8.69643 15.4465 8.84069 15.3022C8.98495 15.158 9.1806 15.0769 9.38462 15.0769H15.5385C15.7425 15.0769 15.9381 15.158 16.0824 15.3022C16.2266 15.4465 16.3077 15.6421 16.3077 15.8462C16.3077 16.0502 16.2266 16.2458 16.0824 16.3901C15.9381 16.5343 15.7425 16.6154 15.5385 16.6154ZM15.5385 13.5385H9.38462C9.1806 13.5385 8.98495 13.4574 8.84069 13.3132C8.69643 13.1689 8.61538 12.9732 8.61538 12.7692C8.61538 12.5652 8.69643 12.3696 8.84069 12.2253C8.98495 12.081 9.1806 12 9.38462 12H15.5385C15.7425 12 15.9381 12.081 16.0824 12.2253C16.2266 12.3696 16.3077 12.5652 16.3077 12.7692C16.3077 12.9732 16.2266 13.1689 16.0824 13.3132C15.9381 13.4574 15.7425 13.5385 15.5385 13.5385ZM14.7692 8.15385V3.92308L19 8.15385H14.7692Z"
                    fill="#007C8F"></path>
            </svg>
            <span class="font-['Open Sans'] text-sm font-semibold text-[#007b8e]"
                x-text="data?.name && data.name.trim() !== '' ? data.name : 'Attachment'"></span>
            </span>
        </div>
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M21.9425 11.3967C21.9133 11.3308 21.2075 9.765 19.6383 8.19584C17.5475 6.105 14.9066 5 12 5C9.0933 5 6.45247 6.105 4.36163 8.19584C2.79246 9.765 2.08329 11.3333 2.05746 11.3967C2.01956 11.4819 1.99997 11.5742 1.99997 11.6675C1.99997 11.7608 2.01956 11.8531 2.05746 11.9383C2.08663 12.0042 2.79246 13.5692 4.36163 15.1383C6.45247 17.2283 9.0933 18.3333 12 18.3333C14.9066 18.3333 17.5475 17.2283 19.6383 15.1383C21.2075 13.5692 21.9133 12.0042 21.9425 11.9383C21.9804 11.8531 22 11.7608 22 11.6675C22 11.5742 21.9804 11.4819 21.9425 11.3967ZM12 15C11.3407 15 10.6962 14.8045 10.1481 14.4382C9.5999 14.072 9.17266 13.5514 8.92037 12.9423C8.66808 12.3332 8.60206 11.663 8.73068 11.0164C8.8593 10.3698 9.17677 9.77582 9.64294 9.30965C10.1091 8.84347 10.7031 8.526 11.3497 8.39738C11.9963 8.26877 12.6665 8.33478 13.2756 8.58707C13.8847 8.83936 14.4053 9.26661 14.7715 9.81477C15.1378 10.3629 15.3333 11.0074 15.3333 11.6667C15.3333 12.5507 14.9821 13.3986 14.357 14.0237C13.7319 14.6488 12.884 15 12 15Z"
                fill="#007C8F" />
        </svg>
    </a>
    {{/if}}
    <!-- Vote and Reply Controls -->

    <div class="flex flex-col gap-4 w-full ">
        {{if anouncementStatus === 'Published'}}
        <div class="flex items-center gap-4 w-full formTogglerButtonContainer ">
            <button type="button" onclick="createContactVotedAnnouncement(`{{:anouncementID}}`)"
                class="roundedButton voteButton {{if ~elapsedvoted(mainAnnouncementVotedContactID,  'announcement')}}voted{{/if}}"
                id="vote-{{:anouncementID}}">
                <svg width="14" height="12" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M13.3092 3.81653C13.1751 3.66459 13.0103 3.54291 12.8255 3.45958C12.6408 3.37625 12.4405 3.33318 12.2378 3.33322H8.90463V2.38087C8.90463 1.74942 8.65378 1.14384 8.20728 0.697341C7.76079 0.250841 7.1552 0 6.52376 0C6.43529 0 6.34856 0.0245177 6.27329 0.0709865C6.19801 0.117455 6.13717 0.183975 6.09758 0.263086L3.84885 4.76174H1.28584C1.03327 4.76174 0.791032 4.86208 0.612432 5.04067C0.433832 5.21927 0.333496 5.46151 0.333496 5.71409V10.952C0.333496 11.2046 0.433832 11.4468 0.612432 11.6254C0.791032 11.804 1.03327 11.9043 1.28584 11.9043H11.5236C11.8716 11.9045 12.2077 11.7775 12.4688 11.5474C12.7298 11.3172 12.8979 10.9997 12.9414 10.6544L13.6557 4.9403C13.681 4.73913 13.6632 4.53488 13.6034 4.34112C13.5437 4.14736 13.4434 3.96854 13.3092 3.81653Z"
                        fill="#007C8F"></path>
                </svg>
                <span class="text-label voteCounter">{{:~elapsedlikeCount(mainAnnouncementVotedContactID)}}</span>
            </button>
            {{if anouncementDisableComments===false}}
            <div class="text-xs text-[#007C8F] font-normal font-['Open Sans']  cursor-pointer" onclick="var el = document.getElementById('announcement_form_{{:anouncementID}}'); var wasHidden = el.classList.contains('hidden'); el.classList.toggle('hidden'); 
              if (wasHidden) { 
                var y = el.getBoundingClientRect().top + window.pageYOffset - 150; 
                window.scrollTo({ top: y, behavior: 'smooth' }); 
              }
              ">
                Reply
            </div>
            {{else}}
            <div class="text-xs text-[#007b8e] font-normal font-['Open Sans'] opacity-[50%]">Replies have been disabled
                in this announcement</div>
            {{/if}}
        </div>
        {{else}}
        <div class="flex items-center gap-3">
            <button type="button" id="postScheduledImmediately" class="outlineButton flex items-center w-fit gap-2">
                <span class="text-label w-max">Post Now</span>
            </button>
            <button type="button" id="cancelPost" class="outlineRedButton flex items-center w-fit gap-2">
                <span class="text-label w-max">Cancel Post</span>
            </button>
        </div>
        {{/if}}
        <!-- Comments & Replies Container -->
        <div class="repliesContainer w-full flex flex-col gap-2">
            {{if commentOnAnnouncement}}
            {{for commentOnAnnouncement}}
            <div class="p-4 flex flex-col justify-start items-start gap-4 serif bg-[#F5F5F5]"
                data-reply-id="{{:commentsId || ''}}" data-announcement-template-id="{{:commentsId || ''}}">
                <!-- Comment header -->
                <div class="flex justify-between items-center w-full">
                    <div class="flex items-center gap-4">
                        <div class="flex items-center gap-3">
                            <img class="w-6 h-6 rounded-full border border-[#d3d3d3]"
                                src="{{:~elapsedprofileImage(Author.commentsAuthorProfileImage)}}"
                                alt="{{:~elapseddisplayName(Author, 'comment')}}">
                        </div>
                        <div class="text-[#414042] text-base font-semibold font-['Open Sans'] leading-none">
                            {{:~elapseddisplayName(Author, 'comment')}}
                        </div>
                        <div class="w-[2px] h-[15px] bg-[#bbbcbb]"></div>
                        <div class="text-[#586a80] text-sm font-normal font-['Open Sans'] leading-tight">
                            {{:~elapsedAnnouncementTime(commentPostedDate)}}
                        </div>
                    </div>
                    <!-- three dots for comments -->
                    {{if commentsAuthorId == '[Visitor//Contact ID]'}}
                    <a class="cursor-pointer actionToggleButton relative"
                        onclick="document.getElementById('commentDelete-{{:commentsId || ''}}').classList.toggle('hidden');">
                        <svg width="4" height="14" viewBox="0 0 4 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M3.45679 6.99992C3.45679 7.34176 3.35542 7.67593 3.1655 7.96016C2.97558 8.2444 2.70565 8.46593 2.38982 8.59675C2.074 8.72757 1.72648 8.76179 1.3912 8.6951C1.05593 8.62841 0.747957 8.4638 0.506236 8.22208C0.264516 7.98036 0.0999019 7.67239 0.0332114 7.33711C-0.0334791 7.00184 0.000748884 6.65431 0.131567 6.33849C0.262385 6.02267 0.483918 5.75273 0.768151 5.56281C1.05238 5.37289 1.38655 5.27152 1.7284 5.27152C2.18679 5.27152 2.62642 5.45362 2.95056 5.77776C3.27469 6.1019 3.45679 6.54152 3.45679 6.99992Z"
                                fill="#414042"></path>
                            <path
                                d="M1.7284 3.79C2.07024 3.79 2.40441 3.68867 2.68864 3.49876C2.97287 3.30884 3.19441 3.0389 3.32522 2.72308C3.45604 2.40725 3.49027 2.05973 3.42358 1.72445C3.35689 1.38918 3.19228 1.08121 2.95056 0.839488C2.70884 0.597768 2.40086 0.433154 2.06559 0.366463C1.73031 0.299773 1.38279 0.334001 1.06697 0.464819C0.751145 0.595637 0.481206 0.81717 0.291288 1.1014C0.101369 1.38564 0 1.7198 0 2.06165C0 2.52 0.182099 2.95967 0.506236 3.28381C0.830373 3.60794 1.27 3.79 1.7284 3.79Z"
                                fill="#414042"></path>
                            <path
                                d="M1.7284 10.21C1.38655 10.21 1.05238 10.3112 0.768151 10.5011C0.483918 10.691 0.262385 10.9609 0.131567 11.2768C0.000748884 11.5926 -0.0334791 11.9401 0.0332114 12.2754C0.0999019 12.6107 0.264516 12.9186 0.506236 13.16C0.747957 13.4021 1.05593 13.5667 1.3912 13.6334C1.72648 13.7001 2.074 13.6658 2.38982 13.535C2.70565 13.4042 2.97558 13.1827 3.1655 12.8984C3.35542 12.6142 3.45679 12.28 3.45679 11.9382C3.45679 11.48 3.27469 11.04 2.95056 10.716C2.62642 10.3919 2.18679 10.21 1.7284 10.21Z"
                                fill="#414042"></path>
                        </svg>
                        <div class="actionItemsWrapper shadow-lg absolute top-[1rem] right-0 flex flex-col gap-3 p-2 bg-white w-max hidden"
                            id="commentDelete-{{:commentsId || ''}}">
                            <div class="actionItem text-sm text-dark" onclick="deleteComment('{{:commentsId || ''}}')">
                                Delete</div>
                        </div>
                    </a>{{/if}}
                </div>
                <!-- Comment content -->
                <div class="body-text text-dark">{{:commentsComment}}</div>
                <!-- Comment vote & reply controls -->
                <div class="flex flex-col gap-4 w-full">
                    <div class="flex items-center gap-4 w-full formTogglerButtonContainer">
                        <button type="button"
                            onclick="createMemberCommentUpvotesForumCommentUpvotes(`{{:commentsId || ''}}`)"
                            class="roundedButton voteButton {{if ~elapsedvoted(Member_Comment_Upvotes,  'comment')}}voted{{/if}}"
                            id="vote-{{:commentsId}}">
                            <svg width="14" height="12" viewBox="0 0 14 12" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M13.3092 3.81653C13.1751 3.66459 13.0103 3.54291 12.8255 3.45958C12.6408 3.37625 12.4405 3.33318 12.2378 3.33322H8.90463V2.38087C8.90463 1.74942 8.65378 1.14384 8.20728 0.697341C7.76079 0.250841 7.1552 0 6.52376 0C6.43529 0 6.34856 0.0245177 6.27329 0.0709865C6.19801 0.117455 6.13717 0.183975 6.09758 0.263086L3.84885 4.76174H1.28584C1.03327 4.76174 0.791032 4.86208 0.612432 5.04067C0.433832 5.21927 0.333496 5.46151 0.333496 5.71409V10.952C0.333496 11.2046 0.433832 11.4468 0.612432 11.6254C0.791032 11.804 1.03327 11.9043 1.28584 11.9043H11.5236C11.8716 11.9045 12.2077 11.7775 12.4688 11.5474C12.7298 11.3172 12.8979 10.9997 12.9414 10.6544L13.6557 4.9403C13.681 4.73913 13.6632 4.53488 13.6034 4.34112C13.5437 4.14736 13.4434 3.96854 13.3092 3.81653Z"
                                    fill="#007C8F"></path>
                            </svg>
                            <span class="text-label voteCounter">{{:~elapsedlikeCount(Member_Comment_Upvotes)}}</span>
                        </button>
                        <div class="text-xs text-[#007C8F] font-normal font-['Open Sans'] cursor-pointer" onclick="var el = document.getElementById('comment_form_{{:commentsId || ''}}'); var wasHidden = el.classList.contains('hidden'); el.classList.toggle('hidden'); 
                    if (wasHidden) { 
                        var y = el.getBoundingClientRect().top + window.pageYOffset - 150; 
                        window.scrollTo({ top: y, behavior: 'smooth' }); 
                      }
                    ">
                            Reply
                        </div>
                    </div>
                    <!-- Replies for Comment -->
                    <div class="repliesOfReplyContainer w-full flex flex-col gap-2">
                        {{if repliesOnComments}}
                        {{for repliesOnComments}}
                        <div class="p-4 flex flex-col justify-start items-start gap-4 serif bg-[#fff]"data-reply-id="{{:repliesId}}" data-announcement-template-id="{{:repliesId}}">
                      <div class= "flex justify-between items-center w-full">
                            <div class="flex items-center gap-4">
                                <div class="flex items-center gap-3">
                                    <img class="w-6 h-6 rounded-full border border-[#d3d3d3]"
                                        src="{{:~elapsedprofileImage(Author.repliesAuthorProfileImage)}}"
                                        alt="{{:~elapseddisplayName(Author, 'reply')}}">
                                </div>
                                <div class="text-[#414042] text-base font-semibold font-['Open Sans'] leading-none">
                                    {{:~elapseddisplayName(Author, 'reply')}}
                                </div>
                                <div class="w-[2px] h-[15px] bg-[#bbbcbb]"></div>
                                <div class="text-[#586a80] text-sm font-normal font-['Open Sans'] leading-tight">
                                    {{:~elapsedAnnouncementTime(repliesPostedDate)}}
                                </div>
                            </div>
                            <!-- three dots for replies -->
                            {{if repliesAuthorID == '[Visitor//Contact ID]'}}
                            <a class="cursor-pointer actionToggleButton relative"
                                onclick="document.getElementById('repliesDelete-{{:repliesId}}').classList.toggle('hidden');">
                                <svg width="4" height="14" viewBox="0 0 4 14" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M3.45679 6.99992C3.45679 7.34176 3.35542 7.67593 3.1655 7.96016C2.97558 8.2444 2.70565 8.46593 2.38982 8.59675C2.074 8.72757 1.72648 8.76179 1.3912 8.6951C1.05593 8.62841 0.747957 8.4638 0.506236 8.22208C0.264516 7.98036 0.0999019 7.67239 0.0332114 7.33711C-0.0334791 7.00184 0.000748884 6.65431 0.131567 6.33849C0.262385 6.02267 0.483918 5.75273 0.768151 5.56281C1.05238 5.37289 1.38655 5.27152 1.7284 5.27152C2.18679 5.27152 2.62642 5.45362 2.95056 5.77776C3.27469 6.1019 3.45679 6.54152 3.45679 6.99992Z"
                                        fill="#414042"></path>
                                    <path
                                        d="M1.7284 3.79C2.07024 3.79 2.40441 3.68867 2.68864 3.49876C2.97287 3.30884 3.19441 3.0389 3.32522 2.72308C3.45604 2.40725 3.49027 2.05973 3.42358 1.72445C3.35689 1.38918 3.19228 1.08121 2.95056 0.839488C2.70884 0.597768 2.40086 0.433154 2.06559 0.366463C1.73031 0.299773 1.38279 0.334001 1.06697 0.464819C0.751145 0.595637 0.481206 0.81717 0.291288 1.1014C0.101369 1.38564 0 1.7198 0 2.06165C0 2.52 0.182099 2.95967 0.506236 3.28381C0.830373 3.60794 1.27 3.79 1.7284 3.79Z"
                                        fill="#414042"></path>
                                    <path
                                        d="M1.7284 10.21C1.38655 10.21 1.05238 10.3112 0.768151 10.5011C0.483918 10.691 0.262385 10.9609 0.131567 11.2768C0.000748884 11.5926 -0.0334791 11.9401 0.0332114 12.2754C0.0999019 12.6107 0.264516 12.9186 0.506236 13.16C0.747957 13.4021 1.05593 13.5667 1.3912 13.6334C1.72648 13.7001 2.074 13.6658 2.38982 13.535C2.70565 13.4042 2.97558 13.1827 3.1655 12.8984C3.35542 12.6142 3.45679 12.28 3.45679 11.9382C3.45679 11.48 3.27469 11.04 2.95056 10.716C2.62642 10.3919 2.18679 10.21 1.7284 10.21Z"
                                        fill="#414042"></path>
                                </svg>
                                <div class="actionItemsWrapper shadow-lg absolute top-[1rem] right-0 flex flex-col gap-3 p-2 bg-white w-max hidden"
                                    id="repliesDelete-{{:repliesId}}">
                                    <div class="actionItem text-sm text-dark" onclick="deleteComment('{{:repliesId}}')">
                                        Delete</div>
                                </div>
                            </a>{{/if}}
                            <!-- three dots for replies end -->
                        </div>
                        <div class="body-text text-dark">{{:repliesComment}}</div>
                        <div class="flex flex-col gap-4 w-full">
                            <div class="flex items-center gap-4 w-full formTogglerButtonContainer">
                                <button type="button"
                                    onclick="createMemberCommentUpvotesForumCommentUpvotes(`{{:repliesId}}`)"
                                    class="roundedButton voteButton {{if ~elapsedvoted(Member_Comment_Upvotes, 'reply')}}voted{{/if}}"
                                    id="vote-{{:repliesId}}">
                                    <svg width="14" height="12" viewBox="0 0 14 12" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M13.3092 3.81653C13.1751 3.66459 13.0103 3.54291 12.8255 3.45958C12.6408 3.37625 12.4405 3.33318 12.2378 3.33322H8.90463V2.38087C8.90463 1.74942 8.65378 1.14384 8.20728 0.697341C7.76079 0.250841 7.1552 0 6.52376 0C6.43529 0 6.34856 0.0245177 6.27329 0.0709865C6.19801 0.117455 6.13717 0.183975 6.09758 0.263086L3.84885 4.76174H1.28584C1.03327 4.76174 0.791032 4.86208 0.612432 5.04067C0.433832 5.21927 0.333496 5.46151 0.333496 5.71409V10.952C0.333496 11.2046 0.433832 11.4468 0.612432 11.6254C0.791032 11.804 1.03327 11.9043 1.28584 11.9043H11.5236C11.8716 11.9045 12.2077 11.7775 12.4688 11.5474C12.7298 11.3172 12.8979 10.9997 12.9414 10.6544L13.6557 4.9403C13.681 4.73913 13.6632 4.53488 13.6034 4.34112C13.5437 4.14736 13.4434 3.96854 13.3092 3.81653Z"
                                            fill="#007C8F"></path>
                                    </svg>
                                    <span
                                        class="text-label voteCounter">{{:~elapsedlikeCount(Member_Comment_Upvotes)}}</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    {{/for}}
                    {{/if}}
                </div>
            </div>
            <div id="comment_form_{{:commentsId || ''}}" class="replyForm hidden w-full">
                <div class="containerForToolbar"></div>
                <div class=" flex flex-col gap-2 justify-end items-end w-full relative ">
                    <div x-init="
              let editor  = document.querySelector('#replyContainer_{{:commentsId}}');
              MentionManager.initEditor(editor);
              " contenteditable="true" id="replyContainer_{{:commentsId || ''}}"
                        class="formTextArea ! resize-y mentionable replyContent !min-h-[100px]" rows="2"
                        placeholder="Reply..." id="replyContent" required="" data-tribute="true"
                        data-tribute-attached="true"> </div>

                    <button type="submit" onClick="
              
                let replyContent = document.getElementById('replyContainer_{{:commentsId}}').innerText.trim(); 
                const htmlContent = document.getElementById('replyContainer_{{:commentsId}}').innerHTML.trim();
                const tempContainer = document.createElement('div'); 
                tempContainer.innerHTML=htmlContent; 
                const mentionedIds=[];
                tempContainer.querySelectorAll('.mention').forEach((mention)=> {
                const id = mention.dataset.contactId;
                  if (id && !mentionedIds.includes(Number(id))) mentionedIds.push(Number(id));
                });
                createForumComment(null,{{:commentsId}}, mentionedIds, htmlContent);" "
                class=" w-max primaryButton flex items-center gap-2 absolute bottom-[1rem] right-[1rem]"> <span
                            class="text-label text-white w-max max-[600px]:text-button">Reply</span> <svg width="12"
                            height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M10.4282 5.99409C10.4285 6.12138 10.3948 6.24645 10.3306 6.35635C10.2664 6.46625 10.174 6.55701 10.0629 6.61922L2.56502 10.9062C2.45742 10.9672 2.33595 10.9995 2.21227 11C2.09832 10.9994 1.98616 10.9715 1.88517 10.9187C1.78417 10.8659 1.69727 10.7898 1.63172 10.6965C1.56617 10.6033 1.52386 10.4958 1.50834 10.3829C1.49282 10.27 1.50453 10.155 1.54249 10.0476L2.74809 6.47767C2.75987 6.44277 2.78216 6.41236 2.8119 6.39062C2.84163 6.36888 2.87736 6.35686 2.9142 6.35622H6.14162C6.19059 6.35633 6.23906 6.34636 6.28402 6.32695C6.32898 6.30754 6.36946 6.27909 6.40296 6.24337C6.43646 6.20765 6.46226 6.16543 6.47875 6.11932C6.49525 6.07321 6.50208 6.0242 6.49884 5.97534C6.49074 5.88348 6.44824 5.79808 6.37985 5.73623C6.31145 5.67438 6.22222 5.64065 6.13002 5.64179H2.91509C2.87772 5.64179 2.84129 5.63008 2.81094 5.60829C2.78058 5.5865 2.75782 5.55574 2.74586 5.52034L1.54026 1.95088C1.49228 1.81406 1.48705 1.66588 1.52529 1.52603C1.56352 1.38617 1.6434 1.26126 1.75432 1.16789C1.86524 1.07451 2.00194 1.01709 2.14626 1.00326C2.29059 0.989426 2.43571 1.01983 2.56234 1.09044L10.0638 5.37209C10.1743 5.43416 10.2662 5.52447 10.3302 5.63377C10.3942 5.74307 10.4281 5.86742 10.4282 5.99409Z"
                                fill="white"></path>
                        </svg> </button>
                </div>
            </div>
        </div>
        {{/for}}
        {{/if}}
    </div>
    <div class="replyForm w-full hidden" id="announcement_form_{{:anouncementID}}">
        <div class="containerForToolbar"></div>
        <div class=" flex flex-col gap-2 justify-end items-end w-full relative ">
            <div x-init="
              let editor  = document.querySelector('#announcement_content_{{:anouncementID}}');
              MentionManager.initEditor(editor);
              " contenteditable="true" id="announcement_content_{{:anouncementID}}"
                class="formTextArea mentionable  !resize-y replyContent !min-h-[100px]" rows="2" placeholder="Reply..."
                required="" data-tribute="true" data-tribute-attached="true">
            </div>
            <button type="submit" onClick="
          console.log('clicked 2');
  let replyContent = document.getElementById('announcement_content_{{:anouncementID}}').innerText.trim(); 
  let htmlContent = document.getElementById('announcement_content_{{:anouncementID}}').innerHTML.trim(); 
  const tempContainer = document.createElement('div'); 
  tempContainer.innerHTML=htmlContent; 
  const mentionedIds=[];
  tempContainer.querySelectorAll('.mention').forEach((mention)=> {
  const id = mention.dataset.contactId;
    if (id && !mentionedIds.includes(Number(id))) mentionedIds.push(Number(id));
  });
  createForumComment({{:anouncementID}},null, mentionedIds, htmlContent);"
                class="w-max primaryButton flex items-center gap-2 absolute bottom-[1rem] right-[1rem]"> <span
                    class="text-label text-white w-max max-[600px]:text-button">Reply</span> <svg width="12" height="12"
                    viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M10.4282 5.99409C10.4285 6.12138 10.3948 6.24645 10.3306 6.35635C10.2664 6.46625 10.174 6.55701 10.0629 6.61922L2.56502 10.9062C2.45742 10.9672 2.33595 10.9995 2.21227 11C2.09832 10.9994 1.98616 10.9715 1.88517 10.9187C1.78417 10.8659 1.69727 10.7898 1.63172 10.6965C1.56617 10.6033 1.52386 10.4958 1.50834 10.3829C1.49282 10.27 1.50453 10.155 1.54249 10.0476L2.74809 6.47767C2.75987 6.44277 2.78216 6.41236 2.8119 6.39062C2.84163 6.36888 2.87736 6.35686 2.9142 6.35622H6.14162C6.19059 6.35633 6.23906 6.34636 6.28402 6.32695C6.32898 6.30754 6.36946 6.27909 6.40296 6.24337C6.43646 6.20765 6.46226 6.16543 6.47875 6.11932C6.49525 6.07321 6.50208 6.0242 6.49884 5.97534C6.49074 5.88348 6.44824 5.79808 6.37985 5.73623C6.31145 5.67438 6.22222 5.64065 6.13002 5.64179H2.91509C2.87772 5.64179 2.84129 5.63008 2.81094 5.60829C2.78058 5.5865 2.75782 5.55574 2.74586 5.52034L1.54026 1.95088C1.49228 1.81406 1.48705 1.66588 1.52529 1.52603C1.56352 1.38617 1.6434 1.26126 1.75432 1.16789C1.86524 1.07451 2.00194 1.01709 2.14626 1.00326C2.29059 0.989426 2.43571 1.01983 2.56234 1.09044L10.0638 5.37209C10.1743 5.43416 10.2662 5.52447 10.3302 5.63377C10.3942 5.74307 10.4281 5.86742 10.4282 5.99409Z"
                        fill="white"></path>
                </svg> </button>
        </div>
    </div>
</div>
</div>

{{/if}}
{{/for}}
{{else}}
<svg width="696" height="125" viewBox="0 0 696 125" fill="none" xmlns="http://www.w3.org/2000/svg"
    class="noAnnouncementSVG">
    <path d="M322.096 67.7719L326.538 74.0401L333.761 84.1966L339.746 80.7208L329.684 63.3652L322.096 67.7719Z"
        fill="#C2E1E7" />
    <path opacity="0.1" d="M322.096 67.7719L326.538 74.0401L333.513 69.987L329.684 63.3652L322.096 67.7719Z"
        fill="black" />
    <path d="M322.871 70.757L332.308 65.2803L328.15 58.1163L318.713 63.593L322.871 70.757Z" fill="#C2E1E7" />
    <path d="M310.879 64.6267L318.632 61.1037L311.905 49.5098L305 54.4938L310.879 64.6267Z" fill="#C2E1E7" />
    <path
        d="M314.343 45.0202L324.276 62.1401L337.425 56.4728L372.113 50.4048L348.265 9.30762L325.784 36.419L314.343 45.0202Z"
        fill="#C2E1E7" />
    <path
        d="M354.215 33.3203C360.837 44.7257 369.167 52.2429 372.832 50.1221C376.496 48.0012 374.104 37.02 367.494 25.6146C360.884 14.2091 352.531 6.69194 348.866 8.82456C345.202 10.9572 347.594 21.9149 354.215 33.3203Z"
        fill="#C2E1E7" />
    <path opacity="0.2"
        d="M355.558 32.071C361.45 42.1921 368.625 48.9906 371.63 47.2467C374.634 45.5029 372.301 35.8885 366.422 25.7556C360.542 15.6226 353.355 8.84773 350.303 10.5798C347.252 12.3118 349.679 21.9498 355.558 32.071Z"
        fill="black" />
    <path
        d="M356.442 31.5528C357.22 32.9078 358.033 34.1921 358.799 35.4057C359.688 35.5591 360.603 35.454 361.434 35.1029C362.265 34.7517 362.978 34.1693 363.488 33.4248C363.998 32.6802 364.284 31.8049 364.311 30.9029C364.338 30.0009 364.106 29.11 363.641 28.3362L362.463 26.3921C362.021 25.6137 361.367 24.9773 360.576 24.5572C359.786 24.1371 358.892 23.9508 358 24.02C357.108 24.0892 356.253 24.4111 355.537 24.948C354.821 25.4849 354.273 26.2147 353.956 27.0519C354.757 28.5365 355.558 30.0447 356.442 31.5528Z"
        fill="#C2E1E7" />
    <path d="M318.196 66.9354L333.184 60.1251L320.164 37.7031L306.814 47.3412L318.196 66.9354Z" fill="#C2E1E7" />
    <path opacity="0.2" d="M318.196 66.9354L333.184 60.1251L320.164 37.7031L306.814 47.3412L318.196 66.9354Z"
        fill="black" />
    <path opacity="0.2"
        d="M347.947 13.2432C347.69 15.0198 347.757 16.8283 348.147 18.5806C348.491 20.3396 348.971 22.0691 349.585 23.7531C349.879 24.6014 350.233 25.4262 350.563 26.251C350.892 27.0758 351.293 27.8888 351.741 28.69C352.188 29.4912 352.53 30.3042 352.919 31.0465C353.308 31.7888 353.767 32.6253 354.227 33.4029C356.01 36.5126 358.077 39.451 360.401 42.1809C361.575 43.538 362.864 44.7916 364.254 45.9277C365.632 47.0816 367.238 47.9326 368.967 48.4256C367.284 47.8423 365.737 46.9245 364.419 45.7274C363.071 44.5719 361.829 43.2983 360.707 41.9217C358.446 39.1733 356.424 36.2366 354.663 33.1437C352.825 30.0973 351.248 26.9006 349.95 23.5882C349.296 21.9377 348.768 20.2401 348.371 18.5099C347.933 16.7909 347.79 15.0101 347.947 13.2432Z"
        fill="black" />
    <path
        d="M362.604 3.5459C361.956 4.60632 361.355 5.69031 360.766 6.7743C360.177 7.85828 359.588 8.96582 359.081 10.0734C358.575 11.1809 357.997 12.3003 357.502 13.4314L356.748 15.1281C356.513 15.7054 356.265 16.3063 356.053 16.8483C356.383 16.3181 356.678 15.7761 356.996 15.2459L357.879 13.6199C358.48 12.5359 359.058 11.4284 359.576 10.3208C360.095 9.21326 360.66 8.09392 361.155 6.9628C361.65 5.83169 362.157 4.71236 362.604 3.5459Z"
        fill="#263238" />
    <path
        d="M368.578 39.8716C369.968 39.7302 371.347 39.5417 372.726 39.3414C374.104 39.1411 375.471 38.8936 376.849 38.658C378.228 38.4223 379.583 38.1396 380.95 37.845L382.988 37.3973L385.026 36.8906C384.319 36.9495 383.636 37.0438 382.941 37.1263L380.867 37.4208C379.489 37.6211 378.122 37.8568 376.743 38.1042C375.365 38.3516 374.01 38.6109 372.643 38.9172C371.276 39.2236 369.921 39.5063 368.578 39.8716Z"
        fill="#263238" />
    <path
        d="M391 26.4746C389.02 27.0284 387.064 27.6528 385.109 28.2538C383.153 28.8547 381.22 29.5263 379.276 30.1861C377.332 30.8459 375.412 31.5175 373.479 32.2244L370.604 33.2966C369.65 33.6737 368.684 34.0272 367.741 34.416C368.731 34.145 369.709 33.8386 370.687 33.5559L373.621 32.6368C375.577 32.0241 377.521 31.3643 379.512 30.7163C381.503 30.0682 383.377 29.3731 385.297 28.6661C387.218 27.9592 389.091 27.2523 391 26.4746Z"
        fill="#263238" />
    <path
        d="M373.48 0C372.219 1.64954 371.017 3.34622 369.815 5.04289C368.613 6.73956 367.459 8.45979 366.281 10.1682C365.102 11.8767 363.924 13.6205 362.852 15.3761L361.179 18.0036C360.637 18.8873 360.083 19.771 359.553 20.6664C360.189 19.8416 360.79 18.9933 361.403 18.1567L363.205 15.6118C364.384 13.9269 365.562 12.2066 366.74 10.4864C367.918 8.76614 369.097 7.03412 370.169 5.27853C371.241 3.52295 372.419 1.77915 373.48 0Z"
        fill="#263238" />
    <path
        d="M364.254 27.2878C366.375 26.1095 368.46 24.9313 370.546 23.753C372.631 22.5748 374.693 21.3376 376.767 20.124C378.841 18.9104 380.879 17.6615 382.917 16.4008L385.969 14.492C386.982 13.844 387.996 13.2077 388.997 12.5361C387.925 13.0899 386.888 13.7144 385.828 14.2564L382.693 16.0237C380.608 17.202 378.546 18.3802 376.484 19.6527C374.422 20.9252 372.36 22.1153 370.322 23.376C368.284 24.6367 366.257 25.9563 364.254 27.2878Z"
        fill="#263238" />
    <path
        d="M251.734 118.196H250.203L243.977 108.603H243.914C243.93 108.858 243.948 109.149 243.969 109.478C243.99 109.8 244.005 110.147 244.016 110.517C244.031 110.881 244.039 111.254 244.039 111.634V118.196H242.805V106.774H244.328L250.531 116.337H250.586C250.576 116.155 250.562 115.897 250.547 115.563C250.531 115.225 250.516 114.863 250.5 114.478C250.49 114.087 250.484 113.725 250.484 113.392V106.774H251.734V118.196ZM262.039 113.899C262.039 114.603 261.948 115.23 261.766 115.782C261.583 116.334 261.32 116.8 260.977 117.181C260.633 117.561 260.216 117.853 259.727 118.056C259.242 118.254 258.693 118.353 258.078 118.353C257.505 118.353 256.979 118.254 256.5 118.056C256.026 117.853 255.615 117.561 255.266 117.181C254.922 116.8 254.654 116.334 254.461 115.782C254.273 115.23 254.18 114.603 254.18 113.899C254.18 112.962 254.339 112.165 254.656 111.509C254.974 110.847 255.427 110.345 256.016 110.001C256.609 109.652 257.315 109.478 258.133 109.478C258.914 109.478 259.596 109.652 260.18 110.001C260.768 110.35 261.224 110.855 261.547 111.517C261.875 112.173 262.039 112.967 262.039 113.899ZM255.523 113.899C255.523 114.587 255.615 115.183 255.797 115.688C255.979 116.194 256.26 116.584 256.641 116.86C257.021 117.136 257.51 117.274 258.109 117.274C258.703 117.274 259.19 117.136 259.57 116.86C259.956 116.584 260.24 116.194 260.422 115.688C260.604 115.183 260.695 114.587 260.695 113.899C260.695 113.217 260.604 112.629 260.422 112.134C260.24 111.634 259.958 111.248 259.578 110.978C259.198 110.707 258.706 110.571 258.102 110.571C257.211 110.571 256.557 110.866 256.141 111.454C255.729 112.043 255.523 112.858 255.523 113.899ZM271.641 109.493C272.661 109.493 273.419 109.722 273.914 110.181C274.409 110.639 274.656 111.371 274.656 112.376V118.196H273.711L273.461 116.931H273.398C273.159 117.243 272.909 117.506 272.648 117.72C272.388 117.928 272.086 118.087 271.742 118.196C271.404 118.3 270.987 118.353 270.492 118.353C269.971 118.353 269.508 118.261 269.102 118.079C268.701 117.897 268.383 117.621 268.148 117.251C267.919 116.881 267.805 116.412 267.805 115.845C267.805 114.991 268.143 114.334 268.82 113.876C269.497 113.418 270.529 113.168 271.914 113.126L273.391 113.063V112.54C273.391 111.8 273.232 111.282 272.914 110.985C272.596 110.688 272.148 110.54 271.57 110.54C271.122 110.54 270.695 110.605 270.289 110.735C269.883 110.866 269.497 111.019 269.133 111.196L268.734 110.212C269.12 110.014 269.562 109.845 270.062 109.704C270.562 109.563 271.089 109.493 271.641 109.493ZM273.375 113.978L272.07 114.032C271.003 114.074 270.25 114.248 269.812 114.556C269.375 114.863 269.156 115.298 269.156 115.86C269.156 116.35 269.305 116.712 269.602 116.946C269.898 117.181 270.292 117.298 270.781 117.298C271.542 117.298 272.164 117.087 272.648 116.665C273.133 116.243 273.375 115.61 273.375 114.767V113.978ZM281.383 109.478C282.398 109.478 283.167 109.728 283.688 110.228C284.208 110.722 284.469 111.519 284.469 112.618V118.196H283.188V112.704C283.188 111.991 283.023 111.457 282.695 111.103C282.372 110.748 281.875 110.571 281.203 110.571C280.255 110.571 279.589 110.84 279.203 111.376C278.818 111.912 278.625 112.691 278.625 113.712V118.196H277.328V109.634H278.375L278.57 110.868H278.641C278.823 110.566 279.055 110.313 279.336 110.11C279.617 109.902 279.932 109.746 280.281 109.642C280.63 109.532 280.997 109.478 281.383 109.478ZM291.195 109.478C292.211 109.478 292.979 109.728 293.5 110.228C294.021 110.722 294.281 111.519 294.281 112.618V118.196H293V112.704C293 111.991 292.836 111.457 292.508 111.103C292.185 110.748 291.688 110.571 291.016 110.571C290.068 110.571 289.401 110.84 289.016 111.376C288.63 111.912 288.438 112.691 288.438 113.712V118.196H287.141V109.634H288.188L288.383 110.868H288.453C288.635 110.566 288.867 110.313 289.148 110.11C289.43 109.902 289.745 109.746 290.094 109.642C290.443 109.532 290.81 109.478 291.195 109.478ZM304.336 113.899C304.336 114.603 304.245 115.23 304.062 115.782C303.88 116.334 303.617 116.8 303.273 117.181C302.93 117.561 302.513 117.853 302.023 118.056C301.539 118.254 300.99 118.353 300.375 118.353C299.802 118.353 299.276 118.254 298.797 118.056C298.323 117.853 297.911 117.561 297.562 117.181C297.219 116.8 296.951 116.334 296.758 115.782C296.57 115.23 296.477 114.603 296.477 113.899C296.477 112.962 296.635 112.165 296.953 111.509C297.271 110.847 297.724 110.345 298.312 110.001C298.906 109.652 299.612 109.478 300.43 109.478C301.211 109.478 301.893 109.652 302.477 110.001C303.065 110.35 303.521 110.855 303.844 111.517C304.172 112.173 304.336 112.967 304.336 113.899ZM297.82 113.899C297.82 114.587 297.911 115.183 298.094 115.688C298.276 116.194 298.557 116.584 298.938 116.86C299.318 117.136 299.807 117.274 300.406 117.274C301 117.274 301.487 117.136 301.867 116.86C302.253 116.584 302.536 116.194 302.719 115.688C302.901 115.183 302.992 114.587 302.992 113.899C302.992 113.217 302.901 112.629 302.719 112.134C302.536 111.634 302.255 111.248 301.875 110.978C301.495 110.707 301.003 110.571 300.398 110.571C299.508 110.571 298.854 110.866 298.438 111.454C298.026 112.043 297.82 112.858 297.82 113.899ZM313.648 109.634V118.196H312.586L312.398 116.993H312.328C312.151 117.29 311.922 117.54 311.641 117.743C311.359 117.946 311.042 118.097 310.688 118.196C310.339 118.3 309.966 118.353 309.57 118.353C308.893 118.353 308.326 118.243 307.867 118.024C307.409 117.806 307.062 117.467 306.828 117.009C306.599 116.55 306.484 115.962 306.484 115.243V109.634H307.797V115.149C307.797 115.863 307.958 116.397 308.281 116.751C308.604 117.1 309.096 117.274 309.758 117.274C310.393 117.274 310.898 117.155 311.273 116.915C311.654 116.675 311.927 116.324 312.094 115.86C312.26 115.392 312.344 114.819 312.344 114.142V109.634H313.648ZM320.445 109.478C321.461 109.478 322.229 109.728 322.75 110.228C323.271 110.722 323.531 111.519 323.531 112.618V118.196H322.25V112.704C322.25 111.991 322.086 111.457 321.758 111.103C321.435 110.748 320.938 110.571 320.266 110.571C319.318 110.571 318.651 110.84 318.266 111.376C317.88 111.912 317.688 112.691 317.688 113.712V118.196H316.391V109.634H317.438L317.633 110.868H317.703C317.885 110.566 318.117 110.313 318.398 110.11C318.68 109.902 318.995 109.746 319.344 109.642C319.693 109.532 320.06 109.478 320.445 109.478ZM329.633 118.353C328.862 118.353 328.182 118.194 327.594 117.876C327.005 117.558 326.547 117.074 326.219 116.423C325.891 115.772 325.727 114.951 325.727 113.962C325.727 112.925 325.898 112.079 326.242 111.423C326.591 110.761 327.07 110.272 327.68 109.954C328.289 109.636 328.982 109.478 329.758 109.478C330.185 109.478 330.596 109.522 330.992 109.61C331.393 109.694 331.721 109.8 331.977 109.931L331.586 111.017C331.326 110.912 331.023 110.819 330.68 110.735C330.341 110.652 330.023 110.61 329.727 110.61C329.133 110.61 328.638 110.738 328.242 110.993C327.852 111.248 327.557 111.623 327.359 112.118C327.167 112.613 327.07 113.222 327.07 113.946C327.07 114.639 327.164 115.23 327.352 115.72C327.544 116.209 327.828 116.584 328.203 116.845C328.583 117.1 329.057 117.228 329.625 117.228C330.078 117.228 330.487 117.181 330.852 117.087C331.216 116.988 331.547 116.873 331.844 116.743V117.899C331.557 118.045 331.237 118.157 330.883 118.235C330.534 118.313 330.117 118.353 329.633 118.353ZM337.172 109.478C337.901 109.478 338.526 109.639 339.047 109.962C339.568 110.285 339.966 110.738 340.242 111.321C340.518 111.899 340.656 112.576 340.656 113.353V114.157H334.742C334.758 115.162 335.008 115.928 335.492 116.454C335.977 116.98 336.659 117.243 337.539 117.243C338.081 117.243 338.56 117.194 338.977 117.095C339.393 116.996 339.826 116.85 340.273 116.657V117.798C339.841 117.991 339.411 118.131 338.984 118.22C338.562 118.308 338.062 118.353 337.484 118.353C336.661 118.353 335.943 118.186 335.328 117.853C334.719 117.514 334.245 117.019 333.906 116.368C333.568 115.717 333.398 114.92 333.398 113.978C333.398 113.056 333.552 112.259 333.859 111.587C334.172 110.91 334.609 110.389 335.172 110.024C335.74 109.66 336.406 109.478 337.172 109.478ZM337.156 110.54C336.464 110.54 335.911 110.767 335.5 111.22C335.089 111.673 334.844 112.306 334.766 113.118H339.297C339.292 112.608 339.211 112.16 339.055 111.774C338.904 111.384 338.672 111.082 338.359 110.868C338.047 110.649 337.646 110.54 337.156 110.54ZM352.156 109.478C353.099 109.478 353.81 109.725 354.289 110.22C354.768 110.709 355.008 111.498 355.008 112.587V118.196H353.727V112.649C353.727 111.957 353.576 111.438 353.273 111.095C352.977 110.746 352.534 110.571 351.945 110.571C351.117 110.571 350.516 110.811 350.141 111.29C349.766 111.769 349.578 112.475 349.578 113.407V118.196H348.289V112.649C348.289 112.186 348.221 111.8 348.086 111.493C347.956 111.186 347.758 110.957 347.492 110.806C347.232 110.649 346.901 110.571 346.5 110.571C345.932 110.571 345.477 110.688 345.133 110.923C344.789 111.157 344.539 111.506 344.383 111.97C344.232 112.428 344.156 112.993 344.156 113.665V118.196H342.859V109.634H343.906L344.102 110.845H344.172C344.344 110.548 344.56 110.298 344.82 110.095C345.081 109.892 345.372 109.738 345.695 109.634C346.018 109.53 346.362 109.478 346.727 109.478C347.378 109.478 347.922 109.6 348.359 109.845C348.802 110.084 349.122 110.451 349.32 110.946H349.391C349.672 110.451 350.057 110.084 350.547 109.845C351.036 109.6 351.573 109.478 352.156 109.478ZM360.969 109.478C361.698 109.478 362.323 109.639 362.844 109.962C363.365 110.285 363.763 110.738 364.039 111.321C364.315 111.899 364.453 112.576 364.453 113.353V114.157H358.539C358.555 115.162 358.805 115.928 359.289 116.454C359.773 116.98 360.456 117.243 361.336 117.243C361.878 117.243 362.357 117.194 362.773 117.095C363.19 116.996 363.622 116.85 364.07 116.657V117.798C363.638 117.991 363.208 118.131 362.781 118.22C362.359 118.308 361.859 118.353 361.281 118.353C360.458 118.353 359.74 118.186 359.125 117.853C358.516 117.514 358.042 117.019 357.703 116.368C357.365 115.717 357.195 114.92 357.195 113.978C357.195 113.056 357.349 112.259 357.656 111.587C357.969 110.91 358.406 110.389 358.969 110.024C359.536 109.66 360.203 109.478 360.969 109.478ZM360.953 110.54C360.26 110.54 359.708 110.767 359.297 111.22C358.885 111.673 358.641 112.306 358.562 113.118H363.094C363.089 112.608 363.008 112.16 362.852 111.774C362.701 111.384 362.469 111.082 362.156 110.868C361.844 110.649 361.443 110.54 360.953 110.54ZM370.711 109.478C371.727 109.478 372.495 109.728 373.016 110.228C373.536 110.722 373.797 111.519 373.797 112.618V118.196H372.516V112.704C372.516 111.991 372.352 111.457 372.023 111.103C371.701 110.748 371.203 110.571 370.531 110.571C369.583 110.571 368.917 110.84 368.531 111.376C368.146 111.912 367.953 112.691 367.953 113.712V118.196H366.656V109.634H367.703L367.898 110.868H367.969C368.151 110.566 368.383 110.313 368.664 110.11C368.945 109.902 369.26 109.746 369.609 109.642C369.958 109.532 370.326 109.478 370.711 109.478ZM379.234 117.29C379.448 117.29 379.667 117.272 379.891 117.235C380.115 117.199 380.297 117.155 380.438 117.103V118.11C380.286 118.178 380.076 118.235 379.805 118.282C379.539 118.329 379.279 118.353 379.023 118.353C378.57 118.353 378.159 118.274 377.789 118.118C377.419 117.957 377.122 117.686 376.898 117.306C376.68 116.925 376.57 116.399 376.57 115.728V110.649H375.352V110.017L376.578 109.509L377.094 107.649H377.875V109.634H380.383V110.649H377.875V115.688C377.875 116.225 377.997 116.626 378.242 116.892C378.492 117.157 378.823 117.29 379.234 117.29ZM389.531 109.493C390.552 109.493 391.31 109.722 391.805 110.181C392.299 110.639 392.547 111.371 392.547 112.376V118.196H391.602L391.352 116.931H391.289C391.049 117.243 390.799 117.506 390.539 117.72C390.279 117.928 389.977 118.087 389.633 118.196C389.294 118.3 388.878 118.353 388.383 118.353C387.862 118.353 387.398 118.261 386.992 118.079C386.591 117.897 386.273 117.621 386.039 117.251C385.81 116.881 385.695 116.412 385.695 115.845C385.695 114.991 386.034 114.334 386.711 113.876C387.388 113.418 388.419 113.168 389.805 113.126L391.281 113.063V112.54C391.281 111.8 391.122 111.282 390.805 110.985C390.487 110.688 390.039 110.54 389.461 110.54C389.013 110.54 388.586 110.605 388.18 110.735C387.773 110.866 387.388 111.019 387.023 111.196L386.625 110.212C387.01 110.014 387.453 109.845 387.953 109.704C388.453 109.563 388.979 109.493 389.531 109.493ZM391.266 113.978L389.961 114.032C388.893 114.074 388.141 114.248 387.703 114.556C387.266 114.863 387.047 115.298 387.047 115.86C387.047 116.35 387.195 116.712 387.492 116.946C387.789 117.181 388.182 117.298 388.672 117.298C389.432 117.298 390.055 117.087 390.539 116.665C391.023 116.243 391.266 115.61 391.266 114.767V113.978ZM397.102 118.196L393.852 109.634H395.242L397.125 114.813C397.255 115.168 397.388 115.558 397.523 115.985C397.659 116.412 397.753 116.756 397.805 117.017H397.859C397.922 116.756 398.026 116.412 398.172 115.985C398.318 115.553 398.451 115.162 398.57 114.813L400.453 109.634H401.844L398.586 118.196H397.102ZM406.422 109.493C407.443 109.493 408.201 109.722 408.695 110.181C409.19 110.639 409.438 111.371 409.438 112.376V118.196H408.492L408.242 116.931H408.18C407.94 117.243 407.69 117.506 407.43 117.72C407.169 117.928 406.867 118.087 406.523 118.196C406.185 118.3 405.768 118.353 405.273 118.353C404.753 118.353 404.289 118.261 403.883 118.079C403.482 117.897 403.164 117.621 402.93 117.251C402.701 116.881 402.586 116.412 402.586 115.845C402.586 114.991 402.924 114.334 403.602 113.876C404.279 113.418 405.31 113.168 406.695 113.126L408.172 113.063V112.54C408.172 111.8 408.013 111.282 407.695 110.985C407.378 110.688 406.93 110.54 406.352 110.54C405.904 110.54 405.477 110.605 405.07 110.735C404.664 110.866 404.279 111.019 403.914 111.196L403.516 110.212C403.901 110.014 404.344 109.845 404.844 109.704C405.344 109.563 405.87 109.493 406.422 109.493ZM408.156 113.978L406.852 114.032C405.784 114.074 405.031 114.248 404.594 114.556C404.156 114.863 403.938 115.298 403.938 115.86C403.938 116.35 404.086 116.712 404.383 116.946C404.68 117.181 405.073 117.298 405.562 117.298C406.323 117.298 406.945 117.087 407.43 116.665C407.914 116.243 408.156 115.61 408.156 114.767V113.978ZM413.406 109.634V118.196H412.109V109.634H413.406ZM412.773 106.431C412.987 106.431 413.169 106.501 413.32 106.642C413.477 106.777 413.555 106.991 413.555 107.282C413.555 107.569 413.477 107.782 413.32 107.923C413.169 108.063 412.987 108.134 412.773 108.134C412.549 108.134 412.362 108.063 412.211 107.923C412.065 107.782 411.992 107.569 411.992 107.282C411.992 106.991 412.065 106.777 412.211 106.642C412.362 106.501 412.549 106.431 412.773 106.431ZM417.461 118.196H416.156V106.04H417.461V118.196ZM423.406 109.493C424.427 109.493 425.185 109.722 425.68 110.181C426.174 110.639 426.422 111.371 426.422 112.376V118.196H425.477L425.227 116.931H425.164C424.924 117.243 424.674 117.506 424.414 117.72C424.154 117.928 423.852 118.087 423.508 118.196C423.169 118.3 422.753 118.353 422.258 118.353C421.737 118.353 421.273 118.261 420.867 118.079C420.466 117.897 420.148 117.621 419.914 117.251C419.685 116.881 419.57 116.412 419.57 115.845C419.57 114.991 419.909 114.334 420.586 113.876C421.263 113.418 422.294 113.168 423.68 113.126L425.156 113.063V112.54C425.156 111.8 424.997 111.282 424.68 110.985C424.362 110.688 423.914 110.54 423.336 110.54C422.888 110.54 422.461 110.605 422.055 110.735C421.648 110.866 421.263 111.019 420.898 111.196L420.5 110.212C420.885 110.014 421.328 109.845 421.828 109.704C422.328 109.563 422.854 109.493 423.406 109.493ZM425.141 113.978L423.836 114.032C422.768 114.074 422.016 114.248 421.578 114.556C421.141 114.863 420.922 115.298 420.922 115.86C420.922 116.35 421.07 116.712 421.367 116.946C421.664 117.181 422.057 117.298 422.547 117.298C423.307 117.298 423.93 117.087 424.414 116.665C424.898 116.243 425.141 115.61 425.141 114.767V113.978ZM430.391 106.04V109.079C430.391 109.428 430.38 109.767 430.359 110.095C430.344 110.423 430.331 110.678 430.32 110.86H430.391C430.625 110.475 430.964 110.149 431.406 109.884C431.849 109.618 432.414 109.485 433.102 109.485C434.174 109.485 435.029 109.858 435.664 110.603C436.305 111.342 436.625 112.444 436.625 113.907C436.625 114.871 436.479 115.683 436.188 116.345C435.896 117.006 435.484 117.506 434.953 117.845C434.422 118.183 433.794 118.353 433.07 118.353C432.393 118.353 431.836 118.228 431.398 117.978C430.966 117.722 430.633 117.412 430.398 117.048H430.297L430.031 118.196H429.094V106.04H430.391ZM432.891 110.571C432.271 110.571 431.779 110.694 431.414 110.938C431.049 111.178 430.786 111.543 430.625 112.032C430.469 112.517 430.391 113.131 430.391 113.876V113.946C430.391 115.024 430.57 115.85 430.93 116.423C431.289 116.991 431.943 117.274 432.891 117.274C433.688 117.274 434.284 116.983 434.68 116.399C435.081 115.816 435.281 114.983 435.281 113.899C435.281 112.795 435.083 111.965 434.688 111.407C434.297 110.85 433.698 110.571 432.891 110.571ZM440.195 118.196H438.891V106.04H440.195V118.196ZM446.234 109.478C446.964 109.478 447.589 109.639 448.109 109.962C448.63 110.285 449.029 110.738 449.305 111.321C449.581 111.899 449.719 112.576 449.719 113.353V114.157H443.805C443.82 115.162 444.07 115.928 444.555 116.454C445.039 116.98 445.721 117.243 446.602 117.243C447.143 117.243 447.622 117.194 448.039 117.095C448.456 116.996 448.888 116.85 449.336 116.657V117.798C448.904 117.991 448.474 118.131 448.047 118.22C447.625 118.308 447.125 118.353 446.547 118.353C445.724 118.353 445.005 118.186 444.391 117.853C443.781 117.514 443.307 117.019 442.969 116.368C442.63 115.717 442.461 114.92 442.461 113.978C442.461 113.056 442.615 112.259 442.922 111.587C443.234 110.91 443.672 110.389 444.234 110.024C444.802 109.66 445.469 109.478 446.234 109.478ZM446.219 110.54C445.526 110.54 444.974 110.767 444.562 111.22C444.151 111.673 443.906 112.306 443.828 113.118H448.359C448.354 112.608 448.273 112.16 448.117 111.774C447.966 111.384 447.734 111.082 447.422 110.868C447.109 110.649 446.708 110.54 446.219 110.54ZM451.727 117.384C451.727 117.019 451.815 116.761 451.992 116.61C452.169 116.454 452.385 116.376 452.641 116.376C452.906 116.376 453.13 116.454 453.312 116.61C453.495 116.761 453.586 117.019 453.586 117.384C453.586 117.743 453.495 118.006 453.312 118.173C453.13 118.334 452.906 118.415 452.641 118.415C452.385 118.415 452.169 118.334 451.992 118.173C451.815 118.006 451.727 117.743 451.727 117.384Z"
        fill="#586A80" />
</svg>
{{/if}}
</script>
<script id="commentAnnouncementTemplate" type="text/x-jsrender">
<div class="p-4 flex flex-col justify-start items-start gap-4 serif bg-[#F5F5F5]" data-reply-id="{{:commentsId}}">
  <div class="flex justify-between items-center w-full">
    <div class="flex items-center gap-4">
      <div class="flex items-center gap-3">
        <img class="w-6 h-6 rounded-full border border-[#d3d3d3]" 
              src="{{:~elapsedprofileImage(Author.commentsAuthorProfileImage)}}" 
              alt="{{:~elapseddisplayName(Author, 'comment')}}">
      </div>
      <div class="text-[#414042] text-base font-semibold font-['Open Sans'] leading-none">
        {{:~elapseddisplayName(Author, 'comment')}}
      </div>
      <div class="w-[2px] h-[15px] bg-[#bbbcbb]"></div>
      <div class="text-[#586a80] text-sm font-normal font-['Open Sans'] leading-tight">
        {{:~elapsedAnnouncementTime(commentPostedDate)}}
      </div>
    </div>
    {{if  commentsAuthorId == '[Visitor//Contact ID]'}}
      <a class="cursor-pointer actionToggleButton relative" onclick="document.getElementById('commentDelete-{{:commentsId}}').classList.toggle('hidden');" >
        <svg width="4" height="14" viewBox="0 0 4 14" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3.45679 6.99992C3.45679 7.34176 3.35542 7.67593 3.1655 7.96016C2.97558 8.2444 2.70565 8.46593 2.38982 8.59675C2.074 8.72757 1.72648 8.76179 1.3912 8.6951C1.05593 8.62841 0.747957 8.4638 0.506236 8.22208C0.264516 7.98036 0.0999019 7.67239 0.0332114 7.33711C-0.0334791 7.00184 0.000748884 6.65431 0.131567 6.33849C0.262385 6.02267 0.483918 5.75273 0.768151 5.56281C1.05238 5.37289 1.38655 5.27152 1.7284 5.27152C2.18679 5.27152 2.62642 5.45362 2.95056 5.77776C3.27469 6.1019 3.45679 6.54152 3.45679 6.99992Z" fill="#414042"></path>
          <path d="M1.7284 3.79C2.07024 3.79 2.40441 3.68867 2.68864 3.49876C2.97287 3.30884 3.19441 3.0389 3.32522 2.72308C3.45604 2.40725 3.49027 2.05973 3.42358 1.72445C3.35689 1.38918 3.19228 1.08121 2.95056 0.839488C2.70884 0.597768 2.40086 0.433154 2.06559 0.366463C1.73031 0.299773 1.38279 0.334001 1.06697 0.464819C0.751145 0.595637 0.481206 0.81717 0.291288 1.1014C0.101369 1.38564 0 1.7198 0 2.06165C0 2.52 0.182099 2.95967 0.506236 3.28381C0.830373 3.60794 1.27 3.79 1.7284 3.79Z" fill="#414042"></path>
          <path d="M1.7284 10.21C1.38655 10.21 1.05238 10.3112 0.768151 10.5011C0.483918 10.691 0.262385 10.9609 0.131567 11.2768C0.000748884 11.5926 -0.0334791 11.9401 0.0332114 12.2754C0.0999019 12.6107 0.264516 12.9186 0.506236 13.16C0.747957 13.4021 1.05593 13.5667 1.3912 13.6334C1.72648 13.7001 2.074 13.6658 2.38982 13.535C2.70565 13.4042 2.97558 13.1827 3.1655 12.8984C3.35542 12.6142 3.45679 12.28 3.45679 11.9382C3.45679 11.48 3.27469 11.04 2.95056 10.716C2.62642 10.3919 2.18679 10.21 1.7284 10.21Z" fill="#414042"></path>
        </svg>
        <div class="actionItemsWrapper shadow-lg absolute top-[1rem] right-0 flex flex-col gap-3 p-2 bg-white w-max hidden" id="commentDelete-{{:commentsId}}">
          <div class="actionItem text-sm text-dark" onclick="deleteComment('{{:commentsId}}')">Delete</div>
        </div>
      </a>
    {{/if}}
  </div>
  <div class="body-text text-dark">{{:commentsComment}}</div>
  <div class="flex items-center gap-4 w-full formTogglerButtonContainer">
                <button type="button" onclick="createMemberCommentUpvotesForumCommentUpvotes(`{{:commentsId}}`)"  class="roundedButton voteButton {{if ~elapsedvoted(Member_Comment_Upvotes,  'comment')}}voted{{/if}}" id="vote-{{:commentsId}}">
                  <svg width="14" height="12" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13.3092 3.81653C13.1751 3.66459 13.0103 3.54291 12.8255 3.45958C12.6408 3.37625 12.4405 3.33318 12.2378 3.33322H8.90463V2.38087C8.90463 1.74942 8.65378 1.14384 8.20728 0.697341C7.76079 0.250841 7.1552 0 6.52376 0C6.43529 0 6.34856 0.0245177 6.27329 0.0709865C6.19801 0.117455 6.13717 0.183975 6.09758 0.263086L3.84885 4.76174H1.28584C1.03327 4.76174 0.791032 4.86208 0.612432 5.04067C0.433832 5.21927 0.333496 5.46151 0.333496 5.71409V10.952C0.333496 11.2046 0.433832 11.4468 0.612432 11.6254C0.791032 11.804 1.03327 11.9043 1.28584 11.9043H11.5236C11.8716 11.9045 12.2077 11.7775 12.4688 11.5474C12.7298 11.3172 12.8979 10.9997 12.9414 10.6544L13.6557 4.9403C13.681 4.73913 13.6632 4.53488 13.6034 4.34112C13.5437 4.14736 13.4434 3.96854 13.3092 3.81653Z" fill="#007C8F"></path>
                  </svg>
                  <span class="text-label voteCounter">{{:~elapsedlikeCount(Member_Comment_Upvotes)}}</span>
                </button>
                <div class="text-xs text-[#007C8F] font-normal font-['Open Sans'] cursor-pointer" 
                    onclick="var el = document.getElementById('comment_form_{{:commentsId}}'); var wasHidden = el.classList.contains('hidden'); el.classList.toggle('hidden'); 
                    if (wasHidden) { 
                        var y = el.getBoundingClientRect().top + window.pageYOffset - 150; 
                        window.scrollTo({ top: y, behavior: 'smooth' }); 
                      }
                    ">
                  Reply
                </div>
              </div>
                            <div class="replyForm flex flex-col gap-2 justify-end items-end w-full relative hidden" id="comment_form_{{:commentsId}}">  
              <div contenteditable="true" 
              x-init = "
              let editor  = document.querySelector('#replyContainer_{{:commentsId}}');
              MentionManager.initEditor(editor);
              " 
              
              id="replyContainer_{{:commentsId}}" 
              class="formTextArea mentionable replyContent  resize-y !min-h-[100px]" 
              rows="2" 
              placeholder="Reply..." 
              required="" 
              data-tribute="true" 
              data-tribute-attached="true"
              > </div> 
<button type="submit" onClick="
console.log('clicked 3');
                let replyContent = document.getElementById('replyContainer_{{:commentsId}}').innerText.trim(); 
                const htmlContent = document.getElementById('replyContainer_{{:commentsId}}').innerHTML.trim();
                const tempContainer = document.createElement('div'); 
                tempContainer.innerHTML=htmlContent; 
                const mentionedIds=[];
                tempContainer.querySelectorAll('.mention').forEach((mention)=> {
                const id = mention.dataset.contactId;
                  if (id && !mentionedIds.includes(Number(id))) mentionedIds.push(Number(id));
                });
                createForumComment(null,{{:commentsId}}, mentionedIds, htmlContent);"
                class="w-max primaryButton flex items-center gap-2 absolute bottom-[1rem] right-[1rem]"> <span class="text-label text-white w-max max-[600px]:text-button">Reply</span> <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M10.4282 5.99409C10.4285 6.12138 10.3948 6.24645 10.3306 6.35635C10.2664 6.46625 10.174 6.55701 10.0629 6.61922L2.56502 10.9062C2.45742 10.9672 2.33595 10.9995 2.21227 11C2.09832 10.9994 1.98616 10.9715 1.88517 10.9187C1.78417 10.8659 1.69727 10.7898 1.63172 10.6965C1.56617 10.6033 1.52386 10.4958 1.50834 10.3829C1.49282 10.27 1.50453 10.155 1.54249 10.0476L2.74809 6.47767C2.75987 6.44277 2.78216 6.41236 2.8119 6.39062C2.84163 6.36888 2.87736 6.35686 2.9142 6.35622H6.14162C6.19059 6.35633 6.23906 6.34636 6.28402 6.32695C6.32898 6.30754 6.36946 6.27909 6.40296 6.24337C6.43646 6.20765 6.46226 6.16543 6.47875 6.11932C6.49525 6.07321 6.50208 6.0242 6.49884 5.97534C6.49074 5.88348 6.44824 5.79808 6.37985 5.73623C6.31145 5.67438 6.22222 5.64065 6.13002 5.64179H2.91509C2.87772 5.64179 2.84129 5.63008 2.81094 5.60829C2.78058 5.5865 2.75782 5.55574 2.74586 5.52034L1.54026 1.95088C1.49228 1.81406 1.48705 1.66588 1.52529 1.52603C1.56352 1.38617 1.6434 1.26126 1.75432 1.16789C1.86524 1.07451 2.00194 1.01709 2.14626 1.00326C2.29059 0.989426 2.43571 1.01983 2.56234 1.09044L10.0638 5.37209C10.1743 5.43416 10.2662 5.52447 10.3302 5.63377C10.3942 5.74307 10.4281 5.86742 10.4282 5.99409Z" fill="white"></path> </svg> </button> </div>





  <div class="p-4 flex flex-col justify-start items-start gap-4 serif bg-[#FFF]" data-reply-id="{{:commentsId}}">
    <div class="flex justify-between items-center w-full">
      <div class="flex items-center gap-4">
        <div class="flex items-center gap-3">
          <img class="w-6 h-6 rounded-full border border-[#d3d3d3]" 
                src="{{:~elapsedprofileImage(Author.commentsAuthorProfileImage)}}" 
                alt="{{:~elapseddisplayName(Author, 'comment')}}">
        </div>
        <div class="text-[#414042] text-base font-semibold font-['Open Sans'] leading-none">
          {{:~elapseddisplayName(Author, 'comment')}}
        </div>
        <div class="w-[2px] h-[15px] bg-[#bbbcbb]"></div>
        <div class="text-[#586a80] text-sm font-normal font-['Open Sans'] leading-tight">
          {{:~elapsedAnnouncementTime(commentPostedDate)}}
        </div>
      </div>
      {{if  commentsAuthorId == '[Visitor//Contact ID]'}}
        <a class="cursor-pointer actionToggleButton relative" onclick="document.getElementById('commentDelete-{{:commentsId}}').classList.toggle('hidden');" >
          <svg width="4" height="14" viewBox="0 0 4 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3.45679 6.99992C3.45679 7.34176 3.35542 7.67593 3.1655 7.96016C2.97558 8.2444 2.70565 8.46593 2.38982 8.59675C2.074 8.72757 1.72648 8.76179 1.3912 8.6951C1.05593 8.62841 0.747957 8.4638 0.506236 8.22208C0.264516 7.98036 0.0999019 7.67239 0.0332114 7.33711C-0.0334791 7.00184 0.000748884 6.65431 0.131567 6.33849C0.262385 6.02267 0.483918 5.75273 0.768151 5.56281C1.05238 5.37289 1.38655 5.27152 1.7284 5.27152C2.18679 5.27152 2.62642 5.45362 2.95056 5.77776C3.27469 6.1019 3.45679 6.54152 3.45679 6.99992Z" fill="#414042"></path>
            <path d="M1.7284 3.79C2.07024 3.79 2.40441 3.68867 2.68864 3.49876C2.97287 3.30884 3.19441 3.0389 3.32522 2.72308C3.45604 2.40725 3.49027 2.05973 3.42358 1.72445C3.35689 1.38918 3.19228 1.08121 2.95056 0.839488C2.70884 0.597768 2.40086 0.433154 2.06559 0.366463C1.73031 0.299773 1.38279 0.334001 1.06697 0.464819C0.751145 0.595637 0.481206 0.81717 0.291288 1.1014C0.101369 1.38564 0 1.7198 0 2.06165C0 2.52 0.182099 2.95967 0.506236 3.28381C0.830373 3.60794 1.27 3.79 1.7284 3.79Z" fill="#414042"></path>
            <path d="M1.7284 10.21C1.38655 10.21 1.05238 10.3112 0.768151 10.5011C0.483918 10.691 0.262385 10.9609 0.131567 11.2768C0.000748884 11.5926 -0.0334791 11.9401 0.0332114 12.2754C0.0999019 12.6107 0.264516 12.9186 0.506236 13.16C0.747957 13.4021 1.05593 13.5667 1.3912 13.6334C1.72648 13.7001 2.074 13.6658 2.38982 13.535C2.70565 13.4042 2.97558 13.1827 3.1655 12.8984C3.35542 12.6142 3.45679 12.28 3.45679 11.9382C3.45679 11.48 3.27469 11.04 2.95056 10.716C2.62642 10.3919 2.18679 10.21 1.7284 10.21Z" fill="#414042"></path>
          </svg>
          <div class="actionItemsWrapper shadow-lg absolute top-[1rem] right-0 flex flex-col gap-3 p-2 bg-white w-max hidden" id="commentDelete-{{:commentsId}}">
            <div class="actionItem text-sm text-dark" onclick="deleteComment('{{:commentsId}}')">Delete</div>
          </div>
        </a>
      {{/if}}
    </div>
    <div class="body-text text-dark">{{:commentsComment}}</div>
    <div class="flex items-center gap-4 w-full formTogglerButtonContainer">
                  <button type="button" onclick="createMemberCommentUpvotesForumCommentUpvotes(`{{:commentsId}}`)"  class="roundedButton voteButton {{if ~elapsedvoted(Member_Comment_Upvotes,  'comment')}}voted{{/if}}" id="vote-{{:commentsId}}">
                    <svg width="14" height="12" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M13.3092 3.81653C13.1751 3.66459 13.0103 3.54291 12.8255 3.45958C12.6408 3.37625 12.4405 3.33318 12.2378 3.33322H8.90463V2.38087C8.90463 1.74942 8.65378 1.14384 8.20728 0.697341C7.76079 0.250841 7.1552 0 6.52376 0C6.43529 0 6.34856 0.0245177 6.27329 0.0709865C6.19801 0.117455 6.13717 0.183975 6.09758 0.263086L3.84885 4.76174H1.28584C1.03327 4.76174 0.791032 4.86208 0.612432 5.04067C0.433832 5.21927 0.333496 5.46151 0.333496 5.71409V10.952C0.333496 11.2046 0.433832 11.4468 0.612432 11.6254C0.791032 11.804 1.03327 11.9043 1.28584 11.9043H11.5236C11.8716 11.9045 12.2077 11.7775 12.4688 11.5474C12.7298 11.3172 12.8979 10.9997 12.9414 10.6544L13.6557 4.9403C13.681 4.73913 13.6632 4.53488 13.6034 4.34112C13.5437 4.14736 13.4434 3.96854 13.3092 3.81653Z" fill="#007C8F"></path>
                    </svg>
                    <span class="text-label voteCounter">{{:~elapsedlikeCount(Member_Comment_Upvotes)}}</span>
                  </button>
                </div>
                              <div class="replyForm flex flex-col gap-2 justify-end items-end w-full relative hidden" id="comment_form_{{:commentsId}}">  
                <div 
                x-init = "
              let editor  = document.querySelector('#replyContainer_{{:commentsId}}');
              MentionManager.initEditor(editor);
              " 
                contenteditable="true" 
                id="replyContainer_{{:commentsId}}" 
                class="formTextArea mentionable replyContent  resize-y !min-h-[100px]" 
                rows="2" 
                placeholder="Reply..." 
                required="" 
                data-tribute="true" 
                data-tribute-attached="true"
                > </div> 
              <button type="submit" onClick="
              	console.log('clicked 4');
                let replyContent = document.getElementById('replyContainer_{{:commentsId}}').innerText.trim(); 
                const htmlContent = document.getElementById('replyContainer_{{:commentsId}}').innerHTML.trim();
                const tempContainer = document.createElement('div'); 
                tempContainer.innerHTML=htmlContent; 
                const mentionedIds=[];
                tempContainer.querySelectorAll('.mention').forEach((mention)=> {
                const id = mention.dataset.contactId;
                  if (id && !mentionedIds.includes(Number(id))) mentionedIds.push(Number(id));
                });
                createForumComment(null,{{:commentsId}}, mentionedIds, htmlContent);"
                  class="w-max primaryButton flex items-center gap-2 absolute bottom-[1rem] right-[1rem]"> <span class="text-label text-white w-max max-[600px]:text-button">Reply</span> <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M10.4282 5.99409C10.4285 6.12138 10.3948 6.24645 10.3306 6.35635C10.2664 6.46625 10.174 6.55701 10.0629 6.61922L2.56502 10.9062C2.45742 10.9672 2.33595 10.9995 2.21227 11C2.09832 10.9994 1.98616 10.9715 1.88517 10.9187C1.78417 10.8659 1.69727 10.7898 1.63172 10.6965C1.56617 10.6033 1.52386 10.4958 1.50834 10.3829C1.49282 10.27 1.50453 10.155 1.54249 10.0476L2.74809 6.47767C2.75987 6.44277 2.78216 6.41236 2.8119 6.39062C2.84163 6.36888 2.87736 6.35686 2.9142 6.35622H6.14162C6.19059 6.35633 6.23906 6.34636 6.28402 6.32695C6.32898 6.30754 6.36946 6.27909 6.40296 6.24337C6.43646 6.20765 6.46226 6.16543 6.47875 6.11932C6.49525 6.07321 6.50208 6.0242 6.49884 5.97534C6.49074 5.88348 6.44824 5.79808 6.37985 5.73623C6.31145 5.67438 6.22222 5.64065 6.13002 5.64179H2.91509C2.87772 5.64179 2.84129 5.63008 2.81094 5.60829C2.78058 5.5865 2.75782 5.55574 2.74586 5.52034L1.54026 1.95088C1.49228 1.81406 1.48705 1.66588 1.52529 1.52603C1.56352 1.38617 1.6434 1.26126 1.75432 1.16789C1.86524 1.07451 2.00194 1.01709 2.14626 1.00326C2.29059 0.989426 2.43571 1.01983 2.56234 1.09044L10.0638 5.37209C10.1743 5.43416 10.2662 5.52447 10.3302 5.63377C10.3942 5.74307 10.4281 5.86742 10.4282 5.99409Z" fill="white"></path> </svg> </button> </div>