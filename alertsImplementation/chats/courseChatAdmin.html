<div class="openSans mx-auto mt-10 flex w-full max-w-[728px] flex-col gap-[24px] max-[1100px]:mt-[24px] max-[1100px]:px-4">
    <div id="allAnnouncementsContainer" class="flex items-center gap-x-2">
      <div id="all-posts-tab" class="text-button activePostTab cursor-pointer px-3 py-2">All Posts</div>
      <div id="my-posts-tab" class="text-button cursor-pointer px-3 py-2">My Posts</div>
    </div>
    <div class="w-full">
       <div class="containerForToolbar"></div>
      <div id="postOuterWrapper" class="openSans flex flex-col gap-y-3 rounded-[4px] border border-[#F2F2F2] bg-[#fff] p-4 duration-300 focus-within:border-[#007c8f] hover:border-[#007c8f]">
        <div contenteditable="true" id="post-editor" class="mentionable mainMention editor min-h-[50px] resize-y" placeholder="Post Your Thoughts"></div>
  
        <div id="showContainerForAllFiles" class="w-full"></div>
  
        <div class="flex items-center justify-end gap-3">
          <div id="replaceFileContainer" class="outlineButton text-label flex hidden cursor-pointer items-center gap-x-2">
            <span id=""
              ><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.91667 4.64897H1.41667C1.30616 4.64897 1.20018 4.60508 1.12204 4.52694C1.0439 4.4488 1 4.34281 1 4.23231V1.73231C0.999935 1.64985 1.02434 1.56923 1.07012 1.50065C1.1159 1.43207 1.18099 1.37861 1.25717 1.34705C1.33335 1.31549 1.41718 1.30723 1.49804 1.32334C1.57891 1.33944 1.65319 1.37918 1.71146 1.43752L2.66667 2.39377C3.58969 1.50296 4.8214 1.00356 6.10417 1.00002H6.13177C7.43806 0.996651 8.69309 1.50806 9.625 2.42345C9.70109 2.5013 9.7437 2.60583 9.7437 2.71469C9.74371 2.82354 9.70111 2.92808 9.62503 3.00593C9.54895 3.08378 9.44542 3.12877 9.33659 3.13126C9.22776 3.13376 9.12228 3.09357 9.04271 3.01929C8.26593 2.25683 7.22022 1.8308 6.13177 1.83335H6.10833C5.04593 1.83636 4.02534 2.24772 3.25781 2.98231L4.21146 3.93752C4.2698 3.99579 4.30953 4.07006 4.32564 4.15093C4.34174 4.2318 4.33349 4.31563 4.30193 4.3918C4.27036 4.46798 4.21691 4.53308 4.14833 4.57886C4.07974 4.62464 3.99912 4.64904 3.91667 4.64897ZM10.5833 7.14897H8.08333C8.00088 7.14891 7.92025 7.17331 7.85167 7.21909C7.78309 7.26487 7.72964 7.32997 7.69807 7.40615C7.66651 7.48232 7.65826 7.56615 7.67436 7.64702C7.69047 7.72789 7.7302 7.80216 7.78854 7.86043L8.74219 8.81564C7.97503 9.55067 6.95463 9.9626 5.89219 9.96616H5.86875C4.7803 9.96871 3.73459 9.54268 2.95781 8.78022C2.919 8.74052 2.87265 8.70897 2.82148 8.68744C2.77031 8.6659 2.71535 8.65481 2.65983 8.65481C2.60431 8.65481 2.54935 8.66591 2.49818 8.68746C2.44701 8.709 2.40066 8.74055 2.36185 8.78026C2.32305 8.81996 2.29257 8.86702 2.27221 8.91868C2.25185 8.97033 2.24202 9.02553 2.24329 9.08103C2.24457 9.13654 2.25692 9.19123 2.27963 9.24189C2.30233 9.29256 2.33494 9.33817 2.37552 9.37606C3.30743 10.2915 4.56246 10.8029 5.86875 10.7995H5.89583C7.1786 10.796 8.41031 10.2966 9.33333 9.40574L10.2896 10.362C10.348 10.4201 10.4223 10.4595 10.5032 10.4754C10.584 10.4912 10.6677 10.4828 10.7437 10.451C10.8198 10.4193 10.8847 10.3658 10.9303 10.2972C10.9759 10.2286 11.0002 10.148 11 10.0656V7.56564C11 7.45513 10.9561 7.34915 10.878 7.27101C10.7998 7.19287 10.6938 7.14897 10.5833 7.14897Z" fill="#007C8F" />
              </svg>
            </span>
            <span id="" class="">Replace</span>
          </div>
          <div id="deleteFileContainer" class="outlineButton text-label flex hidden cursor-pointer items-center gap-x-2">
            <span id="">
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.3462 2.53846H8.42308V2.15385C8.42308 1.84783 8.30151 1.55434 8.08512 1.33795C7.86874 1.12157 7.57525 1 7.26923 1H4.96154C4.65552 1 4.36203 1.12157 4.14565 1.33795C3.92926 1.55434 3.80769 1.84783 3.80769 2.15385V2.53846H1.88462C1.78261 2.53846 1.68478 2.57898 1.61265 2.65111C1.54052 2.72324 1.5 2.82107 1.5 2.92308C1.5 3.02508 1.54052 3.12291 1.61265 3.19504C1.68478 3.26717 1.78261 3.30769 1.88462 3.30769H2.26923V10.2308C2.26923 10.4348 2.35027 10.6304 2.49453 10.7747C2.63879 10.919 2.83445 11 3.03846 11H9.19231C9.39632 11 9.59198 10.919 9.73624 10.7747C9.8805 10.6304 9.96154 10.4348 9.96154 10.2308V3.30769H10.3462C10.4482 3.30769 10.546 3.26717 10.6181 3.19504C10.6902 3.12291 10.7308 3.02508 10.7308 2.92308C10.7308 2.82107 10.6902 2.72324 10.6181 2.65111C10.546 2.57898 10.4482 2.53846 10.3462 2.53846ZM4.57692 2.15385C4.57692 2.05184 4.61744 1.95401 4.68957 1.88188C4.7617 1.80975 4.85953 1.76923 4.96154 1.76923H7.26923C7.37124 1.76923 7.46907 1.80975 7.5412 1.88188C7.61332 1.95401 7.65385 2.05184 7.65385 2.15385V2.53846H4.57692V2.15385ZM9.19231 10.2308H3.03846V3.30769H9.19231V10.2308ZM5.34615 5.23077V8.30769C5.34615 8.4097 5.30563 8.50753 5.2335 8.57966C5.16137 8.65179 5.06354 8.69231 4.96154 8.69231C4.85953 8.69231 4.7617 8.65179 4.68957 8.57966C4.61744 8.50753 4.57692 8.4097 4.57692 8.30769V5.23077C4.57692 5.12876 4.61744 5.03093 4.68957 4.95881C4.7617 4.88668 4.85953 4.84615 4.96154 4.84615C5.06354 4.84615 5.16137 4.88668 5.2335 4.95881C5.30563 5.03093 5.34615 5.12876 5.34615 5.23077ZM7.65385 5.23077V8.30769C7.65385 8.4097 7.61332 8.50753 7.5412 8.57966C7.46907 8.65179 7.37124 8.69231 7.26923 8.69231C7.16722 8.69231 7.0694 8.65179 6.99727 8.57966C6.92514 8.50753 6.88462 8.4097 6.88462 8.30769V5.23077C6.88462 5.12876 6.92514 5.03093 6.99727 4.95881C7.0694 4.88668 7.16722 4.84615 7.26923 4.84615C7.37124 4.84615 7.46907 4.88668 7.5412 4.95881C7.61332 5.03093 7.65385 5.12876 7.65385 5.23077Z" fill="#007C8F" />
              </svg>
            </span>
            <span id="" class="">Delete</span>
          </div>
          <div class="attachAFileForClassChat">
            <button class="outlineButton relative flex items-center gap-2">
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.0385 5.72657C10.0743 5.76228 10.1026 5.80468 10.122 5.85136C10.1413 5.89804 10.1513 5.94807 10.1513 5.9986C10.1513 6.04913 10.1413 6.09916 10.122 6.14584C10.1026 6.19252 10.0743 6.23492 10.0385 6.27063L6.09504 10.2117C5.5902 10.7165 4.90551 11 4.19161 11C3.47771 11 2.79306 10.7163 2.28828 10.2115C1.78351 9.70664 1.49995 9.02195 1.5 8.30805C1.50005 7.59415 1.78369 6.9095 2.28852 6.40472L7.05916 1.56392C7.41958 1.20312 7.90856 1.00027 8.41854 1C8.92851 0.99973 9.41771 1.20206 9.77851 1.56247C10.1393 1.92289 10.3422 2.41187 10.3424 2.92185C10.3427 3.43183 10.1404 3.92102 9.77995 4.28182L5.00835 9.12263C4.79166 9.33933 4.49775 9.46107 4.1913 9.46107C3.88484 9.46107 3.59094 9.33933 3.37425 9.12263C3.15755 8.90593 3.03581 8.61203 3.03581 8.30558C3.03581 7.99912 3.15755 7.70522 3.37425 7.48852L7.37781 3.42151C7.41288 3.3841 7.45508 3.35408 7.50193 3.33322C7.54878 3.31236 7.59932 3.30109 7.65059 3.30005C7.70186 3.29902 7.75282 3.30826 7.80047 3.32721C7.84811 3.34617 7.89149 3.37447 7.92804 3.41044C7.96458 3.44641 7.99357 3.48933 8.01328 3.53667C8.03299 3.58401 8.04304 3.63481 8.04282 3.68609C8.04261 3.73737 8.03213 3.78809 8.01202 3.83526C7.99191 3.88243 7.96257 3.92511 7.92572 3.96077L3.92167 8.0321C3.88582 8.06767 3.85733 8.10995 3.83782 8.15653C3.81831 8.2031 3.80816 8.25307 3.80796 8.30357C3.80776 8.35406 3.81751 8.40411 3.83665 8.45084C3.85579 8.49757 3.88394 8.54008 3.91951 8.57593C3.95507 8.61178 3.99735 8.64027 4.04393 8.65978C4.09051 8.67929 4.14047 8.68944 4.19097 8.68964C4.24147 8.68984 4.29151 8.68009 4.33825 8.66095C4.38498 8.64181 4.42748 8.61365 4.46333 8.57809L9.23445 3.73968C9.45114 3.52343 9.57306 3.22996 9.57338 2.92382C9.57369 2.61768 9.45238 2.32395 9.23613 2.10726C9.01988 1.89056 8.7264 1.76865 8.42026 1.76833C8.11413 1.76801 7.8204 1.88933 7.6037 2.10558L2.83403 6.94446C2.65535 7.12286 2.51355 7.3347 2.41674 7.5679C2.31993 7.80109 2.27 8.05107 2.2698 8.30357C2.2696 8.55606 2.31913 8.80612 2.41557 9.03947C2.51201 9.27282 2.65347 9.48489 2.83187 9.66357C3.01026 9.84225 3.22211 9.98404 3.4553 10.0809C3.6885 10.1777 3.93848 10.2276 4.19097 10.2278C4.44346 10.228 4.69352 10.1785 4.92687 10.082C5.16022 9.98559 5.37229 9.84413 5.55097 9.66573L9.49494 5.72465C9.5673 5.65285 9.6652 5.61272 9.76713 5.61308C9.86906 5.61344 9.96668 5.65426 10.0385 5.72657Z" fill="#007C8F"></path>
              </svg>
              <span class="text-label w-max">Attach a File</span>
              <input id="postFile" name="postFile" type="file" class="formFileInputForClassChat absolute top-0 left-0 w-full opacity-0" />
            </button>
          </div>
          <button type="submit" class="primaryButton flex items-center gap-2 rounded border border-[#007c8f] bg-[#007c8f] px-3 py-2" id="submit-post">
            <span class="text-label w-max text-[#fff]">Post</span>
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M10.4282 5.99409C10.4285 6.12138 10.3948 6.24645 10.3306 6.35635C10.2664 6.46625 10.174 6.55701 10.0629 6.61922L2.56502 10.9062C2.45742 10.9672 2.33595 10.9995 2.21227 11C2.09832 10.9994 1.98616 10.9715 1.88517 10.9187C1.78417 10.8659 1.69727 10.7898 1.63172 10.6965C1.56617 10.6033 1.52386 10.4958 1.50834 10.3829C1.49282 10.27 1.50453 10.155 1.54249 10.0476L2.74809 6.47767C2.75987 6.44277 2.78216 6.41236 2.8119 6.39062C2.84163 6.36888 2.87736 6.35686 2.9142 6.35622H6.14162C6.19059 6.35633 6.23906 6.34636 6.28402 6.32695C6.32898 6.30754 6.36946 6.27909 6.40296 6.24337C6.43646 6.20765 6.46226 6.16543 6.47875 6.11932C6.49525 6.07321 6.50208 6.0242 6.49884 5.97534C6.49074 5.88348 6.44824 5.79808 6.37985 5.73623C6.31145 5.67438 6.22222 5.64065 6.13002 5.64179H2.91509C2.87772 5.64179 2.84129 5.63008 2.81094 5.60829C2.78058 5.5865 2.75782 5.55574 2.74586 5.52034L1.54026 1.95088C1.49228 1.81406 1.48705 1.66588 1.52529 1.52603C1.56352 1.38617 1.6434 1.26126 1.75432 1.16789C1.86524 1.07451 2.00194 1.01709 2.14626 1.00326C2.29059 0.989426 2.43571 1.01983 2.56234 1.09044L10.0638 5.37209C10.1743 5.43416 10.2662 5.52447 10.3302 5.63377C10.3942 5.74307 10.4281 5.86742 10.4282 5.99409Z" fill="white"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
    <div id="forumContainer"></div>
  </div>
  
  
        <!-- jsrender Template -->
      <script id="forumTemplate" type="text/x-jsrender">
  
          <div current-post-id="{{:id}}" 
          id="{{:id}}" 
          class="
          {{if post_copy !== undefined}} 
          relative bg-white rounded p-4 mb-4 postCard border border-[#F2F2F2] 
          {{else}} 
          ml-8 mt-2 p-2 border-l-[1px] border-l-[#007c8f] commentCard 
          {{/if}}">
          
  
              {{if post_copy !== undefined}}
                 
                      <div class="cursor-pointer actionToggleButton relative w-max ml-auto" onclick="document.getElementById('postDelete-{{:id}}').classList.toggle('hidden');" >
                          <svg width="4" height="14" viewBox="0 0 4 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M3.45679 6.99992C3.45679 7.34176 3.35542 7.67593 3.1655 7.96016C2.97558 8.2444 2.70565 8.46593 2.38982 8.59675C2.074 8.72757 1.72648 8.76179 1.3912 8.6951C1.05593 8.62841 0.747957 8.4638 0.506236 8.22208C0.264516 7.98036 0.0999019 7.67239 0.0332114 7.33711C-0.0334791 7.00184 0.000748884 6.65431 0.131567 6.33849C0.262385 6.02267 0.483918 5.75273 0.768151 5.56281C1.05238 5.37289 1.38655 5.27152 1.7284 5.27152C2.18679 5.27152 2.62642 5.45362 2.95056 5.77776C3.27469 6.1019 3.45679 6.54152 3.45679 6.99992Z" fill="#414042"></path>
                          <path d="M1.7284 3.79C2.07024 3.79 2.40441 3.68867 2.68864 3.49876C2.97287 3.30884 3.19441 3.0389 3.32522 2.72308C3.45604 2.40725 3.49027 2.05973 3.42358 1.72445C3.35689 1.38918 3.19228 1.08121 2.95056 0.839488C2.70884 0.597768 2.40086 0.433154 2.06559 0.366463C1.73031 0.299773 1.38279 0.334001 1.06697 0.464819C0.751145 0.595637 0.481206 0.81717 0.291288 1.1014C0.101369 1.38564 0 1.7198 0 2.06165C0 2.52 0.182099 2.95967 0.506236 3.28381C0.830373 3.60794 1.27 3.79 1.7284 3.79Z" fill="#414042"></path>
                          <path d="M1.7284 10.21C1.38655 10.21 1.05238 10.3112 0.768151 10.5011C0.483918 10.691 0.262385 10.9609 0.131567 11.2768C0.000748884 11.5926 -0.0334791 11.9401 0.0332114 12.2754C0.0999019 12.6107 0.264516 12.9186 0.506236 13.16C0.747957 13.4021 1.05593 13.5667 1.3912 13.6334C1.72648 13.7001 2.074 13.6658 2.38982 13.535C2.70565 13.4042 2.97558 13.1827 3.1655 12.8984C3.35542 12.6142 3.45679 12.28 3.45679 11.9382C3.45679 11.48 3.27469 11.04 2.95056 10.716C2.62642 10.3919 2.18679 10.21 1.7284 10.21Z" fill="#414042"></path>
                          </svg>
                          <div class="actionItemsWrapper shadow-lg absolute top-[1rem] right-0 flex flex-col gap-3 p-2 bg-white w-max hidden" id="postDelete-{{:id}}">
                              <button class="text-red-500 hover:text-red-700 focus:outline-none" data-id="{{:id}}" onclick="handleDelete(this)">Delete</button>
                          </div>
                      </div>
                 
              {{else}}
                 
                      <div class="cursor-pointer actionToggleButton relative w-max ml-auto" onclick="document.getElementById('commentDelete-{{:id}}').classList.toggle('hidden');" >
                          <svg width="4" height="14" viewBox="0 0 4 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M3.45679 6.99992C3.45679 7.34176 3.35542 7.67593 3.1655 7.96016C2.97558 8.2444 2.70565 8.46593 2.38982 8.59675C2.074 8.72757 1.72648 8.76179 1.3912 8.6951C1.05593 8.62841 0.747957 8.4638 0.506236 8.22208C0.264516 7.98036 0.0999019 7.67239 0.0332114 7.33711C-0.0334791 7.00184 0.000748884 6.65431 0.131567 6.33849C0.262385 6.02267 0.483918 5.75273 0.768151 5.56281C1.05238 5.37289 1.38655 5.27152 1.7284 5.27152C2.18679 5.27152 2.62642 5.45362 2.95056 5.77776C3.27469 6.1019 3.45679 6.54152 3.45679 6.99992Z" fill="#414042"></path>
                          <path d="M1.7284 3.79C2.07024 3.79 2.40441 3.68867 2.68864 3.49876C2.97287 3.30884 3.19441 3.0389 3.32522 2.72308C3.45604 2.40725 3.49027 2.05973 3.42358 1.72445C3.35689 1.38918 3.19228 1.08121 2.95056 0.839488C2.70884 0.597768 2.40086 0.433154 2.06559 0.366463C1.73031 0.299773 1.38279 0.334001 1.06697 0.464819C0.751145 0.595637 0.481206 0.81717 0.291288 1.1014C0.101369 1.38564 0 1.7198 0 2.06165C0 2.52 0.182099 2.95967 0.506236 3.28381C0.830373 3.60794 1.27 3.79 1.7284 3.79Z" fill="#414042"></path>
                          <path d="M1.7284 10.21C1.38655 10.21 1.05238 10.3112 0.768151 10.5011C0.483918 10.691 0.262385 10.9609 0.131567 11.2768C0.000748884 11.5926 -0.0334791 11.9401 0.0332114 12.2754C0.0999019 12.6107 0.264516 12.9186 0.506236 13.16C0.747957 13.4021 1.05593 13.5667 1.3912 13.6334C1.72648 13.7001 2.074 13.6658 2.38982 13.535C2.70565 13.4042 2.97558 13.1827 3.1655 12.8984C3.35542 12.6142 3.45679 12.28 3.45679 11.9382C3.45679 11.48 3.27469 11.04 2.95056 10.716C2.62642 10.3919 2.18679 10.21 1.7284 10.21Z" fill="#414042"></path>
                          </svg>
                          <div class="actionItemsWrapper shadow-lg absolute top-[1rem] right-0 flex flex-col gap-3 p-2 bg-white w-max hidden" id="commentDelete-{{:id}}">
                              <button class="text-red-500 hover:text-red-700 focus:outline-none" data-id="{{:id}}" onclick="handleDeleteComment(this)">Delete</button>
                          </div>
                      </div>
                  
              {{/if}}
  
              <div class="flex items-center gap-4">
                  <img class="w-6 h-6 rounded-full border border-[#d3d3d3]" src="{{: (Author.profile_image && Author.profile_image !== 'https://i.ontraport.com/abc.jpg') ? Author.profile_image : 'https://files.ontraport.com/media/b0456fe87439430680b173369cc54cea.php03bzcx?Expires=4895186056&Signature=fw-mkSjms67rj5eIsiDF9QfHb4EAe29jfz~yn3XT0--8jLdK4OGkxWBZR9YHSh26ZAp5EHj~6g5CUUncgjztHHKU9c9ymvZYfSbPO9JGht~ZJnr2Gwmp6vsvIpYvE1pEywTeoigeyClFm1dHrS7VakQk9uYac4Sw0suU4MpRGYQPFB6w3HUw-eO5TvaOLabtuSlgdyGRie6Ve0R7kzU76uXDvlhhWGMZ7alNCTdS7txSgUOT8oL9pJP832UsasK4~M~Na0ku1oY-8a7GcvvVv6j7yE0V0COB9OP0FbC8z7eSdZ8r7avFK~f9Wl0SEfS6MkPQR2YwWjr55bbJJhZnZA__&Key-Pair-Id=APKAJVAAMVW6XQYWSTNA'}}" alt="{{: Author_First_Name || 'Anonymous'}}'s Profile Image" />
              
                  <div class = "flex items-center gap-4">
           
                      <div class="text-[#414042] button max-[600px]:tracking-[0.86px]">{{:~fullName(Author)}}</div>
                      {{if Author.is_instructor == true}}
                      <div class="py-1.5 px-3 bg-[#FFEAA7] rounded-[36px] font-400 text-[12px] leading-[12px] text-dark">Teacher</div>
                      {{else Author.is_admin == true}}
                      <div class="py-1.5 px-3 bg-[#FFEAA7] rounded-[36px] font-400 text-[12px] leading-[12px] text-dark">Admin</div>
                      {{else}}
                      <div class="py-1.5 px-3 bg-[#c7e6e6] rounded-[36px] font-400 text-[12px] leading-[12px] text-dark">Student</div>
                      {{/if}}
                      <div class="w-[2px] h-[15px] bg-[#bbbcbb] max-[600px]:hidden"></div>
                      <div class="text-[#586a80] small-text">{{:~formatRelativeTime(created_at)}}</div>
                  </div>
              </div>
              <div class="my-2 content-container">
                  {{if post_copy !== undefined}} {{:post_copy}} {{else}} {{:comment}} {{/if}}
              </div>
  
              {{if ~getFileInfo(file)}} {{:~renderFile(file)}} {{/if}}
  
              <!-- Voting and Comment Counts -->
              {{if post_copy !== undefined}}
                  <div class="flex items-center gap-4">
                      <button class="roundedButton {{if ~hasUserVoted(Member_Post_Upvotes_Data, id)}}upVoted{{else}} {{/if}}"
                          data-id="{{:id}}" data-type="post" data-vote-id="{{:~getUserVoteId(Member_Post_Upvotes_Data, id)}}"
                          onclick="handleVote(this)">
                          <!-- Vote SVG -->
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path
                                  d="M14.3092 5.81653C14.1751 5.66459 14.0103 5.54291 13.8255 5.45958C13.6408 5.37625 13.4405 5.33318 13.2378 5.33322H9.90462V4.38087C9.90462 3.74942 9.65378 3.14384 9.20728 2.69734C8.76079 2.25084 8.1552 2 7.52376 2C7.43529 1.99994 7.34856 2.02452 7.27329 2.07099C7.19801 2.11746 7.13717 2.18397 7.09758 2.26309L4.84885 6.76174H2.28584C2.03327 6.76174 1.79103 6.86207 1.61243 7.04067C1.43383 7.21927 1.3335 7.46151 1.3335 7.71409V12.952C1.3335 13.2046 1.43383 13.4468 1.61243 13.6254C1.79103 13.804 2.03327 13.9043 2.28584 13.9043H12.5236C12.8716 13.9045 13.2077 13.7775 13.4688 13.5474C13.7298 13.3172 13.8979 12.9997 13.9414 12.6544L14.6557 6.9403C14.681 6.73913 14.6632 6.53488 14.6034 6.34112C14.5437 6.14736 14.4434 5.96854 14.3092 5.81653ZM2.28584 7.71409H4.66671V12.952H2.28584V7.71409Z"
                                  fill="#007C8F"></path>
                          </svg>
                          <div class="text-label vote-count">{{:~voteCount(Member_Post_Upvotes_Data)}}</div>
                      </button>
              
                      <div class="text-[#007b8e] text-label cursor-pointer"
                          onclick="
                              // Optionally hide any other open comment forms, but leave this one intact.
                              let allOtherForms = document.querySelectorAll('.commentForm');
                              allOtherForms.forEach((form) => {
                              if(form.id !== 'commentForm_{{:id}}') { form.classList.add('hidden'); }
                              });
  
                              let el = document.querySelector('#commentForm_{{:id}}');
                              if (el.classList.contains('hidden')) {
                              // It is hidden so remove the hidden class and scroll into view.
                              el.classList.remove('hidden');
                              try { const editorEl = el.querySelector('.comment-editor'); if (editorEl) { MentionManager.initEditor(editorEl); editorEl.setAttribute('contenteditable','true'); } } catch(e) {}
                              try { const editorEl = el.querySelector('.comment-editor'); if (editorEl) { MentionManager.initEditor(editorEl); editorEl.setAttribute('contenteditable','true'); } } catch(e) {}
                              // Give the browser a short moment to render the form before scrolling.
                              setTimeout(() => {
                                  // Calculate an offset scroll position (adjust the 150px as needed)
                                  let y = el.getBoundingClientRect().top + window.pageYOffset - 150;
                                  window.scrollTo({ top: y, behavior: 'smooth' });
                                  // Optionally add a temporary highlight and focus the editor.
                                  el.classList.add('!border-[#007c8f]');
                                  el.querySelector('.comment-editor').focus();
                                  setTimeout(() => {
                                  el.classList.remove('!border-[#007c8f]');
                                  }, 2000);
                              }, 100);
                              } else {
                              // Already shown: hide the form.
                              el.classList.add('hidden');
                              }
                          ";
                      >Comment</div>
                  </div>
                  
                  {{if ~commentCount(ForumComments) > 0}}
                  <div class="flex items-center gap-x-3 my-2">
                      <div class="h-[1px] w-full bg-[#bbbcbb]"></div>
                      <div class="label flex items-center gap-x-2 cursor-pointer" onclick="document.getElementById('comments-{{:id}}').classList.toggle('hidden');">
                          <span class="label whitespace-nowrap text-[#007c8f]">{{:~commentCount(ForumComments)}} Comments</span>
                          <span class="transition-transform duration-300 inline-block rotate-180">
                              <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                  <path
                                      d="M10.8668 4.27635L6.32157 8.82158C6.27936 8.86383 6.22923 8.89736 6.17405 8.92023C6.11888 8.94311 6.05973 8.95488 6 8.95488C5.94027 8.95488 5.88112 8.94311 5.82594 8.92023C5.77077 8.89736 5.72064 8.86383 5.67842 8.82158L1.1332 4.27635C1.04791 4.19106 1 4.07539 1 3.95478C1 3.83416 1.04791 3.71849 1.1332 3.6332C1.21849 3.54791 1.33416 3.5 1.45478 3.5C1.57539 3.5 1.69106 3.54791 1.77635 3.6332L6 7.85742L10.2236 3.6332C10.2659 3.59097 10.316 3.55747 10.3712 3.53462C10.4264 3.51176 10.4855 3.5 10.5452 3.5C10.6049 3.5 10.6641 3.51176 10.7193 3.53462C10.7744 3.55747 10.8246 3.59097 10.8668 3.6332C10.909 3.67543 10.9425 3.72556 10.9654 3.78074C10.9882 3.83592 11 3.89505 11 3.95478C11 4.0145 10.9882 4.07363 10.9654 4.12881C10.9425 4.18399 10.909 4.23412 10.8668 4.27635Z"
                                      fill="#007C8F"></path>
                              </svg>
                          </span>
                      </div>
                      <div class="h-[1px] w-full bg-[#bbbcbb]"></div>
                  </div>
                  {{/if}}
  
              {{else}}
  
                  <div class="flex items-center gap-4">
                      <button class="roundedButton {{if ~hasUserVoted(Member_Comment_Upvotes_Data, id)}}upVoted{{else}} {{/if}}"
                          data-id="{{:id}}" data-type="comment" data-vote-id="{{:~getUserVoteId(Member_Comment_Upvotes_Data, id)}}"
                          onclick="handleVote(this)">
                          <!-- Vote SVG -->
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path
                                  d="M14.3092 5.81653C14.1751 5.66459 14.0103 5.54291 13.8255 5.45958C13.6408 5.37625 13.4405 5.33318 13.2378 5.33322H9.90462V4.38087C9.90462 3.74942 9.65378 3.14384 9.20728 2.69734C8.76079 2.25084 8.1552 2 7.52376 2C7.43529 1.99994 7.34856 2.02452 7.27329 2.07099C7.19801 2.11746 7.13717 2.18397 7.09758 2.26309L4.84885 6.76174H2.28584C2.03327 6.76174 1.79103 6.86207 1.61243 7.04067C1.43383 7.21927 1.3335 7.46151 1.3335 7.71409V12.952C1.3335 13.2046 1.43383 13.4468 1.61243 13.6254C1.79103 13.804 2.03327 13.9043 2.28584 13.9043H12.5236C12.8716 13.9045 13.2077 13.7775 13.4688 13.5474C13.7298 13.3172 13.8979 12.9997 13.9414 12.6544L14.6557 6.9403C14.681 6.73913 14.6632 6.53488 14.6034 6.34112C14.5437 6.14736 14.4434 5.96854 14.3092 5.81653ZM2.28584 7.71409H4.66671V12.952H2.28584V7.71409Z"
                                  fill="#007C8F"></path>
                          </svg>
                          <div class="text-label vote-count">{{:~voteCount(Member_Comment_Upvotes_Data)}}</div>
                      </button>
                      {{if level > 1}}
                       <div class="text-[#007b8e] text-label cursor-pointer"
                          onclick="
                               // Optionally hide any other open comment forms, but leave this one intact.
                              let allOtherForms = document.querySelectorAll('.commentForm');
                              allOtherForms.forEach((form) => {
                                  if(form.id !== 'replyForm_{{:reply_to_comment_id}}') { form.classList.add('hidden'); }
                              });
  
                              let el = document.querySelector('#replyForm_{{:reply_to_comment_id}}');
                              if (el.classList.contains('hidden')) {
                              // It is hidden so remove the hidden class and scroll into view.
                              el.classList.remove('hidden');
                              try { const editorEl = el.querySelector('.comment-editor'); if (editorEl) { MentionManager.initEditor(editorEl); editorEl.setAttribute('contenteditable','true'); } } catch(e) {}
                              // Give the browser a short moment to render the form before scrolling.
                              setTimeout(() => {
                                  // Calculate an offset scroll position (adjust the 150px as needed)
                                  let y = el.getBoundingClientRect().top + window.pageYOffset - 150;
                                  window.scrollTo({ top: y, behavior: 'smooth' });
                                  // Optionally add a temporary highlight and focus the editor.
                                  el.classList.add('!border-[#007c8f]');
                                  el.querySelector('.comment-editor').focus();
                                  setTimeout(() => {
                                  el.classList.remove('!border-[#007c8f]');
                                  }, 2000);
                              }, 100);
                              } else {
                              // Already shown: hide the form.
                              el.classList.add('hidden');
                              }
                      ";
                      >Reply</div>
                      {{/if}}
                      {{if level < 2}}
                      <div class="text-[#007b8e] text-label cursor-pointer"
                          onclick="
                               // Optionally hide any other open comment forms, but leave this one intact.
                              let allOtherForms = document.querySelectorAll('.commentForm');
                              allOtherForms.forEach((form) => {
                                  if(form.id !== 'replyForm_{{:id}}') { form.classList.add('hidden'); }
                              });
  
                              let el = document.querySelector('#replyForm_{{:id}}');
                              if (el.classList.contains('hidden')) {
                              // It is hidden so remove the hidden class and scroll into view.
                              el.classList.remove('hidden');
                              // Give the browser a short moment to render the form before scrolling.
                              setTimeout(() => {
                                  // Calculate an offset scroll position (adjust the 150px as needed)
                                  let y = el.getBoundingClientRect().top + window.pageYOffset - 150;
                                  window.scrollTo({ top: y, behavior: 'smooth' });
                                  // Optionally add a temporary highlight and focus the editor.
                                  el.classList.add('!border-[#007c8f]');
                                  el.querySelector('.comment-editor').focus();
                                  setTimeout(() => {
                                  el.classList.remove('!border-[#007c8f]');
                                  }, 2000);
                              }, 100);
                              } else {
                              // Already shown: hide the form.
                              el.classList.add('hidden');
                              }
                      ";
                      >Reply</div>
                      {{/if}}
                  </div>
                  {{if level < 2}}
                  {{if ~commentCount(ForumComments) > 0}}
                  <div class="flex items-center gap-x-3 my-2">
                      <div class="h-[1px] w-full bg-[#bbbcbb]"></div>
                      <div class="label flex items-center gap-x-2 cursor-pointer" onclick="document.getElementById('comments-{{:id}}').classList.toggle('hidden');">
                          <span class="label whitespace-nowrap text-[#007c8f]">{{:~commentCount(ForumComments)}} Replies</span>
                          <span class="transition-transform duration-300 inline-block rotate-180">
                              <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                  <path
                                      d="M10.8668 4.27635L6.32157 8.82158C6.27936 8.86383 6.22923 8.89736 6.17405 8.92023C6.11888 8.94311 6.05973 8.95488 6 8.95488C5.94027 8.95488 5.88112 8.94311 5.82594 8.92023C5.77077 8.89736 5.72064 8.86383 5.67842 8.82158L1.1332 4.27635C1.04791 4.19106 1 4.07539 1 3.95478C1 3.83416 1.04791 3.71849 1.1332 3.6332C1.21849 3.54791 1.33416 3.5 1.45478 3.5C1.57539 3.5 1.69106 3.54791 1.77635 3.6332L6 7.85742L10.2236 3.6332C10.2659 3.59097 10.316 3.55747 10.3712 3.53462C10.4264 3.51176 10.4855 3.5 10.5452 3.5C10.6049 3.5 10.6641 3.51176 10.7193 3.53462C10.7744 3.55747 10.8246 3.59097 10.8668 3.6332C10.909 3.67543 10.9425 3.72556 10.9654 3.78074C10.9882 3.83592 11 3.89505 11 3.95478C11 4.0145 10.9882 4.07363 10.9654 4.12881C10.9425 4.18399 10.909 4.23412 10.8668 4.27635Z"
                                      fill="#007C8F"></path>
                              </svg>
                          </span>
                      </div>
                      <div class="h-[1px] w-full bg-[#bbbcbb]"></div>
                  </div>
                  {{/if}}
                  {{/if}}
              {{/if}}
  
              <div id="comments-{{:id}}" class="mt-4">
                  {{if children && children.length}}
                      {{for children tmpl="#forumTemplate"}}{{/for}}
                  {{/if}}
              </div>
      
              <!-- Comment/Reply Form -->
              {{if post_copy !== undefined}}
              <div class="commentForm mt-4 hidden"
               id = "commentForm_{{:id}}"
                      data-parent-id="{{:id}}" 
                      data-parent-type="post" 
                      data-forum-post-id="{{:id}}">
               <div class="containerForToolbar"></div>
                  <form
                      class=" rounded-[4px] bg-[#fff] border border-[#F2F2F2] hover:border-[#007c8f] focus-within:border-[#007c8f] duration-300 openSans  flex-col gap-y-3 p-4"
                     >
                      <div contenteditable="true" class="comment-editor editor w-full mentionable mainMention " placeholder="Reply..."></div>
                      <div class="commentFilePreviewContainer mt-2"></div>
                      <!-- File upload UI exactly like the post creation form -->
                      <div class="comment-file-wrapper flex items-center justify-end gap-3 mt-2">
                              <div class="replaceFileContainerComment outlineButton text-label flex gap-x-2 items-center cursor-pointer"
                                  style="display:none;">
                                  <span>
                                      <svg width="12" height="12" viewBox="0 0 12 12" fill="none"
                                          xmlns="http://www.w3.org/2000/svg">
                                          <path
                                              d="M3.91667 4.64897H1.41667C1.30616 4.64897 1.20018 4.60508 1.12204 4.52694C1.0439 4.4488 1 4.34281 1 4.23231V1.73231C0.999935 1.64985 1.02434 1.56923 1.07012 1.50065C1.1159 1.43207 1.18099 1.37861 1.25717 1.34705C1.33335 1.31549 1.41718 1.30723 1.49804 1.32334C1.57891 1.33944 1.65319 1.37918 1.71146 1.43752L2.66667 2.39377C3.58969 1.50296 4.8214 1.00356 6.10417 1.00002H6.13177C7.43806 0.996651 8.69309 1.50806 9.625 2.42345C9.70109 2.5013 9.7437 2.60583 9.7437 2.71469C9.74371 2.82354 9.70111 2.92808 9.62503 3.00593C9.54895 3.08378 9.44542 3.12877 9.33659 3.13126C9.22776 3.13376 9.12228 3.09357 9.04271 3.01929C8.26593 2.25683 7.22022 1.8308 6.13177 1.83335H6.10833C5.04593 1.83636 4.02534 2.24772 3.25781 2.98231L4.21146 3.93752C4.2698 3.99579 4.30953 4.07006 4.32564 4.15093C4.34174 4.2318 4.33349 4.31563 4.30193 4.3918C4.27036 4.46798 4.21691 4.53308 4.14833 4.57886C4.07974 4.62464 3.99912 4.64904 3.91667 4.64897ZM10.5833 7.14897H8.08333C8.00088 7.14891 7.92025 7.17331 7.85167 7.21909C7.78309 7.26487 7.72964 7.32997 7.69807 7.40615C7.66651 7.48232 7.65826 7.56615 7.67436 7.64702C7.69047 7.72789 7.7302 7.80216 7.78854 7.86043L8.74219 8.81564C7.97503 9.55067 6.95463 9.9626 5.89219 9.96616H5.86875C4.7803 9.96871 3.73459 9.54268 2.95781 8.78022C2.919 8.74052 2.87265 8.70897 2.82148 8.68744C2.77031 8.6659 2.71535 8.65481 2.65983 8.65481C2.60431 8.65481 2.54935 8.66591 2.49818 8.68746C2.44701 8.709 2.40066 8.74055 2.36185 8.78026C2.32305 8.81996 2.29257 8.86702 2.27221 8.91868C2.25185 8.97033 2.24202 9.02553 2.24329 9.08103C2.24457 9.13654 2.25692 9.19123 2.27963 9.24189C2.30233 9.29256 2.33494 9.33817 2.37552 9.37606C3.30743 10.2915 4.56246 10.8029 5.86875 10.7995H5.89583C7.1786 10.796 8.41031 10.2966 9.33333 9.40574L10.2896 10.362C10.348 10.4201 10.4223 10.4595 10.5032 10.4754C10.584 10.4912 10.6677 10.4828 10.7437 10.451C10.8198 10.4193 10.8847 10.3658 10.9303 10.2972C10.9759 10.2286 11.0002 10.148 11 10.0656V7.56564C11 7.45513 10.9561 7.34915 10.878 7.27101C10.7998 7.19287 10.6938 7.14897 10.5833 7.14897Z"
                                              fill="#007C8F" />
                                      </svg>
                                  </span>
                                  <span>Replace</span>
                              </div>
                              <div class="deleteFileContainerComment outlineButton text-label flex gap-x-2 items-center cursor-pointer"
                                  style="display:none;">
                                  <span>
                                      <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                          <path
                                              d="M10.3462 2.53846H8.42308V2.15385C8.42308 1.84783 8.30151 1.55434 8.08512 1.33795C7.86874 1.12157 7.57525 1 7.26923 1H4.96154C4.65552 1 4.36203 1.12157 4.14565 1.33795C3.92926 1.55434 3.80769 1.84783 3.80769 2.15385V2.53846H1.88462C1.78261 2.53846 1.68478 2.57898 1.61265 2.65111C1.54052 2.72324 1.5 2.82107 1.5 2.92308C1.5 3.02508 1.54052 3.12291 1.61265 3.19504C1.68478 3.26717 1.78261 3.30769 1.88462 3.30769H2.26923V10.2308C2.26923 10.4348 2.35027 10.6304 2.49453 10.7747C2.63879 10.919 2.83445 11 3.03846 11H9.19231C9.39632 11 9.59198 10.919 9.73624 10.7747C9.8805 10.6304 9.96154 10.4348 9.96154 10.2308V3.30769H10.3462C10.4482 3.30769 10.546 3.26717 10.6181 3.19504C10.6902 3.12291 10.7308 3.02508 10.7308 2.92308C10.7308 2.82107 10.6902 2.72324 10.6181 2.65111C10.546 2.57898 10.4482 2.53846 10.3462 2.53846ZM4.57692 2.15385C4.57692 2.05184 4.61744 1.95401 4.68957 1.88188C4.7617 1.80975 4.85953 1.76923 4.96154 1.76923H7.26923C7.37124 1.76923 7.46907 1.80975 7.5412 1.88188C7.61332 1.95401 7.65385 2.05184 7.65385 2.15385V2.53846H4.57692V2.15385ZM9.19231 10.2308H3.03846V3.30769H9.19231V10.2308ZM5.34615 5.23077V8.30769C5.34615 8.4097 5.30563 8.50753 5.2335 8.57966C5.16137 8.65179 5.06354 8.69231 4.96154 8.69231C4.85953 8.69231 4.7617 8.65179 4.68957 8.57966C4.61744 8.50753 4.57692 8.4097 4.57692 8.30769V5.23077C4.57692 5.12876 4.61744 5.03093 4.68957 4.95881C4.7617 4.88668 4.85953 4.84615 4.96154 4.84615C5.06354 4.84615 5.16137 4.88668 5.2335 4.95881C5.30563 5.03093 5.34615 5.12876 5.34615 5.23077ZM7.65385 5.23077V8.30769C7.65385 8.4097 7.61332 8.50753 7.5412 8.57966C7.46907 8.65179 7.37124 8.69231 7.26923 8.69231C7.16722 8.69231 7.0694 8.65179 6.99727 8.57966C6.92514 8.50753 6.88462 8.4097 6.88462 8.30769V5.23077C6.88462 5.12876 6.92514 5.03093 6.99727 4.95881C7.0694 4.88668 7.16722 4.84615 7.26923 4.84615C7.37124 4.84615 7.46907 4.88668 7.5412 4.95881C7.61332 5.03093 7.65385 5.12876 7.65385 5.23077Z"
                                              fill="#007C8F" />
                                      </svg>
                                  </span>
                                  <span>Delete</span>
                              </div>
                              <div class="attachAFileForComment">
                                  <button type="button" class="outlineButton flex items-center gap-2 relative">
                                      <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                          <path
                                              d="M10.0385 5.72657C10.0743 5.76228 10.1026 5.80468 10.122 5.85136C10.1413 5.89804 10.1513 5.94807 10.1513 5.9986C10.1513 6.04913 10.1413 6.09916 10.122 6.14584C10.1026 6.19252 10.0743 6.23492 10.0385 6.27063L6.09504 10.2117C5.5902 10.7165 4.90551 11 4.19161 11C3.47771 11 2.79306 10.7163 2.28828 10.2115C1.78351 9.70664 1.49995 9.02195 1.5 8.30805C1.50005 7.59415 1.78369 6.9095 2.28852 6.40472L7.05916 1.56392C7.41958 1.20312 7.90856 1.00027 8.41854 1C8.92851 0.99973 9.41771 1.20206 9.77851 1.56247C10.1393 1.92289 10.3422 2.41187 10.3424 2.92185C10.3427 3.43183 10.1404 3.92102 9.77995 4.28182L5.00835 9.12263C4.79166 9.33933 4.49775 9.46107 4.1913 9.46107C3.88484 9.46107 3.59094 9.33933 3.37425 9.12263C3.15755 8.90593 3.03581 8.61203 3.03581 8.30558C3.03581 7.99912 3.15755 7.70522 3.37425 7.48852L7.37781 3.42151C7.41288 3.3841 7.45508 3.35408 7.50193 3.33322C7.54878 3.31236 7.59932 3.30109 7.65059 3.30005C7.70186 3.29902 7.75282 3.30826 7.80047 3.32721C7.84811 3.34617 7.89149 3.37447 7.92804 3.41044C7.96458 3.44641 7.99357 3.48933 8.01328 3.53667C8.03299 3.58401 8.04304 3.63481 8.04282 3.68609C8.04261 3.73737 8.03213 3.78809 8.01202 3.83526C7.99191 3.88243 7.96257 3.92511 7.92572 3.96077L3.92167 8.0321C3.88582 8.06767 3.85733 8.10995 3.83782 8.15653C3.81831 8.2031 3.80816 8.25307 3.80796 8.30357C3.80776 8.35406 3.81751 8.40411 3.83665 8.45084C3.85579 8.49757 3.88394 8.54008 3.91951 8.57593C3.95507 8.61178 3.99735 8.64027 4.04393 8.65978C4.09051 8.67929 4.14047 8.68944 4.19097 8.68964C4.24147 8.68984 4.29151 8.68009 4.33825 8.66095C4.38498 8.64181 4.42748 8.61365 4.46333 8.57809L9.23445 3.73968C9.45114 3.52343 9.57306 3.22996 9.57338 2.92382C9.57369 2.61768 9.45238 2.32395 9.23613 2.10726C9.01988 1.89056 8.7264 1.76865 8.42026 1.76833C8.11413 1.76801 7.8204 1.88933 7.6037 2.10558L2.83403 6.94446C2.65535 7.12286 2.51355 7.3347 2.41674 7.5679C2.31993 7.80109 2.27 8.05107 2.2698 8.30357C2.2696 8.55606 2.31913 8.80612 2.41557 9.03947C2.51201 9.27282 2.65347 9.48489 2.83187 9.66357C3.01026 9.84225 3.22211 9.98404 3.4553 10.0809C3.6885 10.1777 3.93848 10.2276 4.19097 10.2278C4.44346 10.228 4.69352 10.1785 4.92687 10.082C5.16022 9.98559 5.37229 9.84413 5.55097 9.66573L9.49494 5.72465C9.5673 5.65285 9.6652 5.61272 9.76713 5.61308C9.86906 5.61344 9.96668 5.65426 10.0385 5.72657Z"
                                              fill="#007C8F"></path>
                                      </svg>
                                      <span class="text-label w-max">Attach a File</span>
                                      <input type="file" name="commentFile"
                                          class="formFileInputForComment absolute w-full opacity-0 top-0 left-0">
                                  </button>
                              </div>
     
                          <button type="submit"
                              class="primaryButton flex items-center gap-2 border border-[#007c8f] py-2 px-3 bg-[#007c8f] rounded">
                              <span class="text-label text-[#fff] w-max">Post</span>
                              <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                  <path
                                      d="M10.4282 5.99409C10.4285 6.12138 10.3948 6.24645 10.3306 6.35635C10.2664 6.46625 10.174 6.55701 10.0629 6.61922L2.56502 10.9062C2.45742 10.9672 2.33595 10.9995 2.21227 11C2.09832 10.9994 1.98616 10.9715 1.88517 10.9187C1.78417 10.8659 1.69727 10.7898 1.63172 10.6965C1.56617 10.6033 1.52386 10.4958 1.50834 10.3829C1.49282 10.27 1.50453 10.155 1.54249 10.0476L2.74809 6.47767C2.75987 6.44277 2.78216 6.41236 2.8119 6.39062C2.84163 6.36888 2.87736 6.35686 2.9142 6.35622H6.14162C6.19059 6.35633 6.23906 6.34636 6.28402 6.32695C6.32898 6.30754 6.36946 6.27909 6.40296 6.24337C6.43646 6.20765 6.46226 6.16543 6.47875 6.11932C6.49525 6.07321 6.50208 6.0242 6.49884 5.97534C6.49074 5.88348 6.44824 5.79808 6.37985 5.73623C6.31145 5.67438 6.22222 5.64065 6.13002 5.64179H2.91509C2.87772 5.64179 2.84129 5.63008 2.81094 5.60829C2.78058 5.5865 2.75782 5.55574 2.74586 5.52034L1.54026 1.95088C1.49228 1.81406 1.48705 1.66588 1.52529 1.52603C1.56352 1.38617 1.6434 1.26126 1.75432 1.16789C1.86524 1.07451 2.00194 1.01709 2.14626 1.00326C2.29059 0.989426 2.43571 1.01983 2.56234 1.09044L10.0638 5.37209C10.1743 5.43416 10.2662 5.52447 10.3302 5.63377C10.3942 5.74307 10.4281 5.86742 10.4282 5.99409Z"
                                      fill="white"></path>
                              </svg>
                          </button>
                      </div>
                  </form>
                  </div>
              {{else}}
  
              {{if level < 2}} 
              <div    class="commentForm mt-4 hidden "       
              id = "replyForm_{{:id}}";
                      data-parent-id="{{:id}}" 
                      data-parent-type="comment" 
                      data-forum-post-id="{{:forum_post_id}}">
               <div class="containerForToolbar"></div>
                  <form
                      class=" rounded-[4px] bg-[#fff] border border-[#F2F2F2] hover:border-[#007c8f] focus-within:border-[#007c8f] duration-300 openSans  flex-col gap-y-3 p-4"
                      >
                      <div contenteditable="true" class="comment-editor editor w-full mentionable mainMention " placeholder="Reply..."></div>
                      <div class="commentFilePreviewContainer mt-2"></div>
                      <!-- File upload UI exactly like the post creation form -->
                      <div class="comment-file-wrapper flex items-center justify-end gap-3 mt-2">
                          <div class="replaceFileContainerComment outlineButton text-label flex gap-x-2 items-center cursor-pointer"
                              style="display:none;">
                              <span>
                                  <svg width="12" height="12" viewBox="0 0 12 12" fill="none"
                                  xmlns="http://www.w3.org/2000/svg">
                                  <path
                                      d="M3.91667 4.64897H1.41667C1.30616 4.64897 1.20018 4.60508 1.12204 4.52694C1.0439 4.4488 1 4.34281 1 4.23231V1.73231C0.999935 1.64985 1.02434 1.56923 1.07012 1.50065C1.1159 1.43207 1.18099 1.37861 1.25717 1.34705C1.33335 1.31549 1.41718 1.30723 1.49804 1.32334C1.57891 1.33944 1.65319 1.37918 1.71146 1.43752L2.66667 2.39377C3.58969 1.50296 4.8214 1.00356 6.10417 1.00002H6.13177C7.43806 0.996651 8.69309 1.50806 9.625 2.42345C9.70109 2.5013 9.7437 2.60583 9.7437 2.71469C9.74371 2.82354 9.70111 2.92808 9.62503 3.00593C9.54895 3.08378 9.44542 3.12877 9.33659 3.13126C9.22776 3.13376 9.12228 3.09357 9.04271 3.01929C8.26593 2.25683 7.22022 1.8308 6.13177 1.83335H6.10833C5.04593 1.83636 4.02534 2.24772 3.25781 2.98231L4.21146 3.93752C4.2698 3.99579 4.30953 4.07006 4.32564 4.15093C4.34174 4.2318 4.33349 4.31563 4.30193 4.3918C4.27036 4.46798 4.21691 4.53308 4.14833 4.57886C4.07974 4.62464 3.99912 4.64904 3.91667 4.64897ZM10.5833 7.14897H8.08333C8.00088 7.14891 7.92025 7.17331 7.85167 7.21909C7.78309 7.26487 7.72964 7.32997 7.69807 7.40615C7.66651 7.48232 7.65826 7.56615 7.67436 7.64702C7.69047 7.72789 7.7302 7.80216 7.78854 7.86043L8.74219 8.81564C7.97503 9.55067 6.95463 9.9626 5.89219 9.96616H5.86875C4.7803 9.96871 3.73459 9.54268 2.95781 8.78022C2.919 8.74052 2.87265 8.70897 2.82148 8.68744C2.77031 8.6659 2.71535 8.65481 2.65983 8.65481C2.60431 8.65481 2.54935 8.66591 2.49818 8.68746C2.44701 8.709 2.40066 8.74055 2.36185 8.78026C2.32305 8.81996 2.29257 8.86702 2.27221 8.91868C2.25185 8.97033 2.24202 9.02553 2.24329 9.08103C2.24457 9.13654 2.25692 9.19123 2.27963 9.24189C2.30233 9.29256 2.33494 9.33817 2.37552 9.37606C3.30743 10.2915 4.56246 10.8029 5.86875 10.7995H5.89583C7.1786 10.796 8.41031 10.2966 9.33333 9.40574L10.2896 10.362C10.348 10.4201 10.4223 10.4595 10.5032 10.4754C10.584 10.4912 10.6677 10.4828 10.7437 10.451C10.8198 10.4193 10.8847 10.3658 10.9303 10.2972C10.9759 10.2286 11.0002 10.148 11 10.0656V7.56564C11 7.45513 10.9561 7.34915 10.878 7.27101C10.7998 7.19287 10.6938 7.14897 10.5833 7.14897Z"
                                      fill="#007C8F" />
                              </svg>
                              </span>
                              <span>Replace</span>
                          </div>
                          <div class="deleteFileContainerComment outlineButton text-label flex gap-x-2 items-center cursor-pointer"
                              style="display:none;">
                              <span>
                                  <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                      <path
                                          d="M10.3462 2.53846H8.42308V2.15385C8.42308 1.84783 8.30151 1.55434 8.08512 1.33795C7.86874 1.12157 7.57525 1 7.26923 1H4.96154C4.65552 1 4.36203 1.12157 4.14565 1.33795C3.92926 1.55434 3.80769 1.84783 3.80769 2.15385V2.53846H1.88462C1.78261 2.53846 1.68478 2.57898 1.61265 2.65111C1.54052 2.72324 1.5 2.82107 1.5 2.92308C1.5 3.02508 1.54052 3.12291 1.61265 3.19504C1.68478 3.26717 1.78261 3.30769 1.88462 3.30769H2.26923V10.2308C2.26923 10.4348 2.35027 10.6304 2.49453 10.7747C2.63879 10.919 2.83445 11 3.03846 11H9.19231C9.39632 11 9.59198 10.919 9.73624 10.7747C9.8805 10.6304 9.96154 10.4348 9.96154 10.2308V3.30769H10.3462C10.4482 3.30769 10.546 3.26717 10.6181 3.19504C10.6902 3.12291 10.7308 3.02508 10.7308 2.92308C10.7308 2.82107 10.6902 2.72324 10.6181 2.65111C10.546 2.57898 10.4482 2.53846 10.3462 2.53846ZM4.57692 2.15385C4.57692 2.05184 4.61744 1.95401 4.68957 1.88188C4.7617 1.80975 4.85953 1.76923 4.96154 1.76923H7.26923C7.37124 1.76923 7.46907 1.80975 7.5412 1.88188C7.61332 1.95401 7.65385 2.05184 7.65385 2.15385V2.53846H4.57692V2.15385ZM9.19231 10.2308H3.03846V3.30769H9.19231V10.2308ZM5.34615 5.23077V8.30769C5.34615 8.4097 5.30563 8.50753 5.2335 8.57966C5.16137 8.65179 5.06354 8.69231 4.96154 8.69231C4.85953 8.69231 4.7617 8.65179 4.68957 8.57966C4.61744 8.50753 4.57692 8.4097 4.57692 8.30769V5.23077C4.57692 5.12876 4.61744 5.03093 4.68957 4.95881C4.7617 4.88668 4.85953 4.84615 4.96154 4.84615C5.06354 4.84615 5.16137 4.88668 5.2335 4.95881C5.30563 5.03093 5.34615 5.12876 5.34615 5.23077ZM7.65385 5.23077V8.30769C7.65385 8.4097 7.61332 8.50753 7.5412 8.57966C7.46907 8.65179 7.37124 8.69231 7.26923 8.69231C7.16722 8.69231 7.0694 8.65179 6.99727 8.57966C6.92514 8.50753 6.88462 8.4097 6.88462 8.30769V5.23077C6.88462 5.12876 6.92514 5.03093 6.99727 4.95881C7.0694 4.88668 7.16722 4.84615 7.26923 4.84615C7.37124 4.84615 7.46907 4.88668 7.5412 4.95881C7.61332 5.03093 7.65385 5.12876 7.65385 5.23077Z"
                                          fill="#007C8F" />
                                  </svg>
                              </span>
                              <span>Delete</span>
                          </div>
                          <div class="attachAFileForComment">
                              <button type="button" class="outlineButton flex items-center gap-2 relative">
                                  <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                      <path
                                          d="M10.0385 5.72657C10.0743 5.76228 10.1026 5.80468 10.122 5.85136C10.1413 5.89804 10.1513 5.94807 10.1513 5.9986C10.1513 6.04913 10.1413 6.09916 10.122 6.14584C10.1026 6.19252 10.0743 6.23492 10.0385 6.27063L6.09504 10.2117C5.5902 10.7165 4.90551 11 4.19161 11C3.47771 11 2.79306 10.7163 2.28828 10.2115C1.78351 9.70664 1.49995 9.02195 1.5 8.30805C1.50005 7.59415 1.78369 6.9095 2.28852 6.40472L7.05916 1.56392C7.41958 1.20312 7.90856 1.00027 8.41854 1C8.92851 0.99973 9.41771 1.20206 9.77851 1.56247C10.1393 1.92289 10.3422 2.41187 10.3424 2.92185C10.3427 3.43183 10.1404 3.92102 9.77995 4.28182L5.00835 9.12263C4.79166 9.33933 4.49775 9.46107 4.1913 9.46107C3.88484 9.46107 3.59094 9.33933 3.37425 9.12263C3.15755 8.90593 3.03581 8.61203 3.03581 8.30558C3.03581 7.99912 3.15755 7.70522 3.37425 7.48852L7.37781 3.42151C7.41288 3.3841 7.45508 3.35408 7.50193 3.33322C7.54878 3.31236 7.59932 3.30109 7.65059 3.30005C7.70186 3.29902 7.75282 3.30826 7.80047 3.32721C7.84811 3.34617 7.89149 3.37447 7.92804 3.41044C7.96458 3.44641 7.99357 3.48933 8.01328 3.53667C8.03299 3.58401 8.04304 3.63481 8.04282 3.68609C8.04261 3.73737 8.03213 3.78809 8.01202 3.83526C7.99191 3.88243 7.96257 3.92511 7.92572 3.96077L3.92167 8.0321C3.88582 8.06767 3.85733 8.10995 3.83782 8.15653C3.81831 8.2031 3.80816 8.25307 3.80796 8.30357C3.80776 8.35406 3.81751 8.40411 3.83665 8.45084C3.85579 8.49757 3.88394 8.54008 3.91951 8.57593C3.95507 8.61178 3.99735 8.64027 4.04393 8.65978C4.09051 8.67929 4.14047 8.68944 4.19097 8.68964C4.24147 8.68984 4.29151 8.68009 4.33825 8.66095C4.38498 8.64181 4.42748 8.61365 4.46333 8.57809L9.23445 3.73968C9.45114 3.52343 9.57306 3.22996 9.57338 2.92382C9.57369 2.61768 9.45238 2.32395 9.23613 2.10726C9.01988 1.89056 8.7264 1.76865 8.42026 1.76833C8.11413 1.76801 7.8204 1.88933 7.6037 2.10558L2.83403 6.94446C2.65535 7.12286 2.51355 7.3347 2.41674 7.5679C2.31993 7.80109 2.27 8.05107 2.2698 8.30357C2.2696 8.55606 2.31913 8.80612 2.41557 9.03947C2.51201 9.27282 2.65347 9.48489 2.83187 9.66357C3.01026 9.84225 3.22211 9.98404 3.4553 10.0809C3.6885 10.1777 3.93848 10.2276 4.19097 10.2278C4.44346 10.228 4.69352 10.1785 4.92687 10.082C5.16022 9.98559 5.37229 9.84413 5.55097 9.66573L9.49494 5.72465C9.5673 5.65285 9.6652 5.61272 9.76713 5.61308C9.86906 5.61344 9.96668 5.65426 10.0385 5.72657Z"
                                          fill="#007C8F"></path>
                                  </svg>
                                  <span class="text-label w-max">Attach a File</span>
                                  <input type="file" name="commentFile"
                                      class="formFileInputForComment absolute w-full opacity-0 top-0 left-0">
                              </button>
                          </div>
                          <button type="submit"
                              class="primaryButton flex items-center gap-2 border border-[#007c8f] py-2 px-3 bg-[#007c8f] rounded">
                              <span class="text-label text-[#fff] w-max">Post</span>
                              <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                  <path
                                      d="M10.4282 5.99409C10.4285 6.12138 10.3948 6.24645 10.3306 6.35635C10.2664 6.46625 10.174 6.55701 10.0629 6.61922L2.56502 10.9062C2.45742 10.9672 2.33595 10.9995 2.21227 11C2.09832 10.9994 1.98616 10.9715 1.88517 10.9187C1.78417 10.8659 1.69727 10.7898 1.63172 10.6965C1.56617 10.6033 1.52386 10.4958 1.50834 10.3829C1.49282 10.27 1.50453 10.155 1.54249 10.0476L2.74809 6.47767C2.75987 6.44277 2.78216 6.41236 2.8119 6.39062C2.84163 6.36888 2.87736 6.35686 2.9142 6.35622H6.14162C6.19059 6.35633 6.23906 6.34636 6.28402 6.32695C6.32898 6.30754 6.36946 6.27909 6.40296 6.24337C6.43646 6.20765 6.46226 6.16543 6.47875 6.11932C6.49525 6.07321 6.50208 6.0242 6.49884 5.97534C6.49074 5.88348 6.44824 5.79808 6.37985 5.73623C6.31145 5.67438 6.22222 5.64065 6.13002 5.64179H2.91509C2.87772 5.64179 2.84129 5.63008 2.81094 5.60829C2.78058 5.5865 2.75782 5.55574 2.74586 5.52034L1.54026 1.95088C1.49228 1.81406 1.48705 1.66588 1.52529 1.52603C1.56352 1.38617 1.6434 1.26126 1.75432 1.16789C1.86524 1.07451 2.00194 1.01709 2.14626 1.00326C2.29059 0.989426 2.43571 1.01983 2.56234 1.09044L10.0638 5.37209C10.1743 5.43416 10.2662 5.52447 10.3302 5.63377C10.3942 5.74307 10.4281 5.86742 10.4282 5.99409Z"
                                      fill="white"></path>
                              </svg>
                          </button>
                      </div>
                      </form>
                      </div>
                  {{/if}}
              {{/if}}
      </div>
      </script>
